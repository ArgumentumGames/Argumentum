@inherits Custom.Hybrid.Razor12
@using ToSic.Razor.Blade;
@{
  var popup = DynamicModel.Popup;
}

<div class="modal micromodal-slide" id="@DynamicModel.DomId" aria-hidden="true">
  <div class="modal__overlay" tabindex="-1" data-micromodal-close>
    <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
      @if (Text.Has(popup.Image)) {
        <header class="modal__header">
            <img loading="lazy" class="img-fluid" src='@Link.Image(popup.Image, Settings.Images.Content, factor: 0.5)' />
          <button class="modal__close" type='button' aria-label="Close modal" data-micromodal-close></button>
        </header>
      }
      <div class="modal-content-content">
        <div class="modal__content">
          @if (!Text.Has(popup.Image)) {
            <button class="modal__close" type='button' aria-label="Close modal" data-micromodal-close></button>
          }
          @Html.Raw(popup.Text)
          @if (Text.Has(popup.LinkText)) {
            <a href="@Tags.SafeUrl(popup.Link)" target='@(popup.LinkNewTab ? "_blank" : "_self")'
            class="btn btn-primary">@popup.LinkText</a>
          }
        </div>
      </div>
    </div>
  </div>
</div>
