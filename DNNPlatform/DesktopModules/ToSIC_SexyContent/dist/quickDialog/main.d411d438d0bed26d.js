"use strict";(self.webpackChunkui_a4=self.webpackChunkui_a4||[]).push([[179],{4496:($,V,c)=>{var v=c(3878),b=c(8765),t=c(9609),Ct=c(1622),M=c(7154),k=c(3557),Y=c(8833);let Z=(()=>{class n{}return n.appId=()=>parseInt(K("appId")),n.apps=()=>K("apps"),n.moduleId=()=>Number(z("mid")),n.cbId=()=>Number(z("cbid")),n.getSxcInstance=()=>$2sxc(n.moduleId(),n.cbId()),n})();function z(n){return $2sxc.urlParams.require(n)}function K(n){return $2sxc.urlParams.get(n)}const xt=["en","de","es","fr","it","uk"],W="TemplatePicker.LayoutElement";var X=c(8406),Mt=c(2606),B=c(3800),d=c(9258),_=c(5801),x=c(2474);let tt=(()=>{class n{constructor(e){this.appId=new X.X(0),this.data=this.appId.pipe((0,Mt.x)(),(0,B.w)(s=>e.get(`admin/dialog/settings?appId=${s}`)),(0,d.U)(s=>s.Context),(0,_.B)()),this.showAdvanced$=this.data.pipe((0,d.U)(s=>s.Enable?.CodeEditor??!1))}setApp(e){this.appId.next(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(x.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var et=c(1029);class C extends et.y{constructor(){super()}static create(o){const e=new X.X(o),s=e.asObservable();return s.initialValue=o,s.subject=e,s.reset=()=>{s.subject.next(s.initialValue)},s.isInitial=()=>s.subject.value===s.initialValue,s.next=i=>s.subject.next(i),s}}const g_logger_logToConsole=!1,g_logger_internals=!1,g_logger_urlDebugActivatesLive=!0,g_api_enabled=!1,g_api_streams=!1,g_picker_enabled=!1,g_picker_streams=!1,g_picker_showDebugPanel=!1,g_state_enabled=!1,g_state_streams=!1,g_state_inits=!1;let nt=(()=>{class n{constructor(e,s){this.name="",this.autoDump=g_logger_logToConsole,this.logs=new Array,this.loggers=new Object,this.name=e,this.parent=s}add(e,...s){this.logs.push(e),this.name&&(e=this.name+":"+e),this.parent&&this.parent.logs.push(e),(this.autoDump||n.forceLogToConsole)&&(arguments[0]="quick-edit: "+e,console.log.apply(null,arguments))}subLog(e,s){const i=new n(e,this);return this.loggers[e]=i,i.autoDump="boolean"==typeof s?s:this.autoDump,g_logger_internals&&this.add(`logger: subLog(${e}, ${s}) resulting in autoDump=${i.autoDump}`),i}dump(){this.add("dumping to console"),console.log(`Log dump for '${this.name}'`,this)}static configureRuntimeLogging(e){g_logger_urlDebugActivatesLive&&(n.forceLogToConsole=e)}}return n.forceLogToConsole=!1,n})();const h=new nt;window.logger=h;var u=c(7504),F=c(2520),m=c(4266),Ot=c(6311),wt=c(8586),st=c(572);const Q="_LayoutElement",it=h.subLog("ct-processor",!1);let U=(()=>{class n{constructor(e){this.translate=e}buildList(e,s,i,a){it.add("buildList(...) of content-types to show");let l=this.unhideSelectedType(e,s,a);l=this.addEmptyTypeIfNeeded(l,i);const p=this.hideNecessaryTypes(l);return this.sortTypes(p)}hideNecessaryTypes(e){return e.filter(s=>!s.IsHidden)}unhideSelectedType(e,s,i){return e.filter(a=>a.StaticName===s?.StaticName&&void 0!==a.StaticName).forEach(a=>a.IsHidden=!1),e}addEmptyTypeIfNeeded(e,s){const i=this.translate&&this.translate.instant(W)||Q;return s&&s.find(a=>""===a.ContentTypeStaticName)&&(e=e.slice()).push({StaticName:Q,Name:W,Thumbnail:null,Label:i,IsHidden:!1}),e}sortTypes(e){return e.sort((s,i)=>(""+s.Label).localeCompare(i.Label))}static sortTypesWithDefault(e){return e.sort((s,i)=>s.IsDefault>i.IsDefault?-1:s.IsDefault<i.IsDefault?1:(""+s.Label).localeCompare(i.Label))}static firstDefault(e){return this.sortTypesWithDefault([...e])[0]}static findContentTypesById(e,s){return it.add(`findContentTypesById(..., ${s}`),s?e.find(i=>i.StaticName===s):null}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(M.sK))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const It=h.subLog("TemplateProcessor",!1);class $t{constructor(o){Object.assign(this,o);try{this.VersionMain=parseInt(this.Version.substr(0,2))}catch{}}}const y=h.subLog("api",g_api_enabled),O=[];let E=(()=>{class n{constructor(e){this.http=e,this.apps$=C.create(O),this.contentTypes$=C.create(O),this.templates$=C.create(O),this.ready$=new et.y,this.mustLoadApps=!1,y.add("constructor()"),this.buildObservables(),this.enableLogging()}buildObservables(){y.add("buildObservables()"),this.ready$=(0,u.aj)([this.apps$,this.contentTypes$,this.templates$]).pipe((0,d.U)(([e,s,i])=>({apps:e,types:s,templates:i})),(0,d.U)(e=>!(e.templates===O||e.types===O||this.mustLoadApps&&(!e.apps||e.apps===O))),(0,b.O)(!1),(0,_.B)())}saveAppId(e,s){if(y.add(`saveAppId(${e}, ${s})`),!this.loadApps)throw new Error("can't save app, as we're not in app-mode");return this.http.post(`cms/block/App?appId=${e}`,{}).toPromise()}initLoading(e){return y.add(`initLoading(requireApps: ${e})`),this.mustLoadApps=e,e&&this.loadApps(),this.reloadAppParts()}reloadAppParts(){return(0,u.aj)([this.loadTemplates(),this.loadContentTypes()])}loadTemplates(){y.add("loadTemplates()"),this.templates$.reset();const e=this.http.get("cms/block/Templates").pipe((0,_.B)());return e.subscribe(s=>this.templates$.next(s||[])),e}loadContentTypes(){y.add("loadContentTypes()"),this.contentTypes$.reset();const e=this.http.get("cms/block/ContentTypes").pipe((0,_.B)());return e.pipe((0,d.U)(s=>(s||[]).map(i=>(i.Label=i.Properties?.Label??i.Name,i)))).subscribe(s=>this.contentTypes$.next(s)),e}loadApps(){const e=!this.apps$.isInitial();if(y.add(`loadApps() - skip:${e}`),e)return;const s=Z.apps(),i=this.http.get(`cms/block/Apps?apps=${s}`).pipe((0,_.B)());return i.subscribe(a=>this.apps$.subject.next(a.map(l=>new $t(l)))),i}enableLogging(){const e=h.subLog("api-streams",g_api_streams);this.apps$.subscribe(s=>e.add(`app$:${s&&s.length}`)),this.contentTypes$.subscribe(s=>e.add(`contentTypes$:${s&&s.length}`)),this.templates$.subscribe(s=>e.add(`templates$:${s&&s.length}`)),this.ready$.subscribe(s=>e.add(`ready$:${s}`))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(x.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),ot=(()=>{class n{transform(e,s){const i=s.contentType?s.contentType.StaticName:void 0,a=i===Q?"":i||"";return e.filter(l=>!l.IsHidden).filter(l=>!s.isContent||l.ContentTypeStaticName===a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"templateFilter",type:n,pure:!0}),n})();const w=h.subLog("state",g_state_enabled);let at=(()=>{class n{constructor(e,s,i){this.api=e,this.templateFilter=s,this.ctProcessor=i,this.appId$=C.create(null),this.initialTypeId$=C.create(null),this.initialTemplateId$=C.create(null),this.selectedType$=C.create(null),this.selectedTemplate$=C.create(null),this.buildBasicObservables()}buildBasicObservables(){this.app$=(0,u.aj)([this.api.apps$,this.appId$]).pipe((0,d.U)(([a,l])=>a.find(p=>p.AppId===l)));const e=(0,u.aj)([this.initialTypeId$,this.api.contentTypes$]).pipe((0,d.U)(([a,l])=>U.findContentTypesById(l,a)));this.type$=(0,F.T)(e,this.selectedType$).pipe((0,b.O)(null),(0,_.B)()),this.templates$=(0,u.aj)([this.api.templates$,this.type$]).pipe((0,d.U)(([a,l])=>this.findTemplatesForTypeOrAll(a,l)),(0,b.O)(new Array));const s=(0,u.aj)([this.initialTemplateId$,this.api.templates$]).pipe((0,d.U)(([a,l])=>l.find(p=>p.TemplateId===a)),(0,m.h)(a=>null!=a),(0,b.O)(null),(0,_.B)()),i=(0,F.T)(s,this.selectedTemplate$.pipe((0,m.h)(a=>null!==a)));this.template$=(0,u.aj)([i,this.templates$,this.type$,this.app$]).pipe((0,d.U)(([a,l,p,r])=>class At{static pickSelected(o,e,s,i){return It.add(`pickSelected(selected: ${o&&o.TemplateId}, templates: ${e.length})`),o&&e.find(a=>a.TemplateId===o.TemplateId)?o:(s||i)&&e&&e.length?this.sortTemplates([...e])[0]:null}static sortTemplates(o){return o.sort((e,s)=>e.IsDefault>s.IsDefault?-1:e.IsDefault<s.IsDefault?1:(""+e.Name).localeCompare(s.Name))}}.pickSelected(a,l,p,r)),(0,b.O)(null),(0,_.B)()),this.types$=(0,u.aj)([this.api.contentTypes$,this.type$,this.api.templates$,this.template$]).pipe((0,d.U)(([a,l,p,r])=>this.ctProcessor.buildList(a,l,p,r)),(0,_.B)())}init(e){this.config=e,w.add(`initializing with config:${JSON.stringify(e)}`,e);const s=this.app$.pipe((0,d.U)(p=>e.isContent||!!p),(0,b.O)(e.isContent||!e.appId)),i=this.type$.pipe((0,d.U)(p=>!!p),(0,wt.R)((p,r)=>p||r,!e.contentTypeId)),a=this.template$.pipe((0,d.U)(p=>!!p),(0,st.b)(100),(0,b.O)(!e.templateId)),l=(0,u.aj)([s,a,i]).pipe((0,d.U)(p=>p[0]&&p[1]&&p[2]));return this.initLogging(s,i,a,l),this.activateCurrentApp(e.appId),this.initialTypeId$.next(e.contentTypeId),this.initialTemplateId$.next(e.templateId),l}initLogging(e,s,i,a){const l=w.subLog("stream",g_state_streams);this.type$.subscribe(r=>l.add(`type$ update:'${r&&r.Label}'`,r)),this.app$.subscribe(r=>l.add(`app$ update:'${r&&r.AppId}'`,r)),this.template$.subscribe(r=>l.add(`template$ update:'${r&&r.TemplateId}'`,r)),this.templates$.subscribe(r=>l.add(`templates$ count:'${r&&r.length}'`,r)),this.types$.subscribe(r=>l.add(`types$ count:'${r&&r.length}'`,r)),this.selectedTemplate$.subscribe(r=>l.add(`selectedTemplate$: ${r&&r.TemplateId}`));const p=w.subLog("stream-init",g_state_inits);this.initialTypeId$.subscribe(r=>p.add(`initial TypeId:'${r}'`,r)),this.initialTemplateId$.subscribe(r=>p.add(`initial TemplateId:'${r}'`,r)),e.subscribe(r=>p.add("init app$",r)),s.subscribe(r=>p.add("init type$",r)),i.subscribe(r=>p.add("init temp$",r)),a.subscribe(r=>p.add("init all$",r))}activateCurrentApp(e){w.add(`activateApp(${e})`),this.appId$.next(e)}activateType(e){w.add(`activateType(${e.Name})`),this.selectedType$.next(e)}activateTemplate(e){w.add(`activateTemplate(${e.TemplateId})`),this.selectedTemplate$.next(e)}findTemplatesForTypeOrAll(e,s){return this.templateFilter.transform(e,{contentType:s,isContent:this.config.isContent})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(E),t.LFG(ot),t.LFG(U))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var T=c(2954),I=c(4367),q=c(5432),G=c(2917),J=c(3953),N=c(3139),lt=c(8937),rt=c(657),S=c(5043),Zt=c(1325),j=c(3815);let pt=(()=>{class n{constructor(e){this.http=e}installPackages(e,s){return e.reduce((i,a)=>i.pipe((0,B.w)(()=>a.url?(s(a),this.http.post(`sys/install/RemotePackage?packageUrl=${a.url}`,{})):(0,j.of)(!0))),(0,j.of)(!0))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(x.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var Nt=c(9700),ct=c(6671);let dt=(()=>{class n{constructor(e){this.http=e,this.installSettingsSubject=new ct.xQ,this.settings$=this.installSettingsSubject.asObservable(),this.settings$.pipe((0,d.U)(()=>!0),(0,b.O)(!1)).pipe((0,S.b)(i=>h.add(`ready getting started:${i}`))).subscribe()}loadGettingStarted(e){this.http.get(`sys/install/InstallSettings?isContentApp=${e}`).subscribe(s=>this.installSettingsSubject.next(s))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(x.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const St=["installerWindow"];function Lt(n,o){if(1&n&&(t.TgZ(0,"div",2),t._UZ(1,"mat-progress-spinner",3),t.TgZ(2,"span"),t._uU(3),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("mode","indeterminate"),t.xp6(2),t.hij("Installing ",null==e.currentPackage?null:e.currentPackage.displayName,"..")}}function Ft(n,o){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"iframe",4,5),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",e.remoteInstallerUrl,t.uOi)}}function Ut(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t._uU(1," Debug: "),t.TgZ(2,"button",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sendMessage("test"))}),t._uU(3,"Send Test message"),t.qZA(),t._uU(4),t.TgZ(5,"button",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.toggleSimulate())}),t._uU(6,"toggle"),t.qZA(),t._uU(7," - "),t.TgZ(8,"button",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sendMessage("specs"))}),t._uU(9,"Send 'specs' message"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(4),t.hij(" - Simulate Install: ",e.devSimulateInstall," ")}}let Jt=(()=>{class n{constructor(e,s,i){this.installer=e,this.api=s,this.sanitizer=i,this.remoteInstallerUrl="",this.ready=!1,this.subscriptions=[],this.showDebug=g_picker_showDebugPanel,this.devSimulateInstall=!1,this.alreadyProcessing=!1,this.messages$=(0,Nt.R)(window,"message").pipe((0,m.h)(()=>!this.alreadyProcessing),(0,d.U)(p=>{try{return JSON.parse(p.data)}catch(r){return void console.error("error procesing message. Message was "+p.data,r)}}),(0,m.h)(p=>p&&Number(p.moduleId)===Z.moduleId())),this.subscriptions.push(this.api.settings$.subscribe(p=>{this.settings=p,this.remoteInstallerUrl=this.sanitizer.bypassSecurityTrustResourceUrl(p.remoteUrl),this.ready=!0}));const l=window.frameElement.bridge.getAdditionalDashboardConfig();this.showDebug=l.debug,window.bootController.rebootRequest$.pipe((0,st.b)(1e3)).subscribe(()=>this.destroy())}destroy(){this.subscriptions.forEach(e=>e.unsubscribe()),console.log("destroy subs",this.subscriptions)}ngOnInit(){this.api.loadGettingStarted(this.isContentApp),this.subscriptions.push(this.messages$.pipe((0,S.b)(e=>{console.log("debug data",e)}),(0,m.h)(e=>"test"===e.action),(0,S.b)(()=>{console.log("test message received")})).subscribe()),this.subscriptions.push(this.messages$.pipe((0,m.h)(e=>"specs"===e.action),(0,S.b)(()=>{const e=this.installerWindow.nativeElement,s={action:"specs",data:{installedApps:this.settings.installedApps,rules:this.settings.rules}},i=JSON.stringify(s);e.contentWindow.postMessage(i,"*"),console.log("debug: just sent specs message:"+i,s,e)})).subscribe()),this.subscriptions.push(this.messages$.pipe((0,m.h)(e=>"install"===e.action),(0,d.U)(e=>Object.values(e.packages)),(0,m.h)(e=>{const i=`Do you want to install these packages?\n\n${e.reduce((a,l)=>`${a} - ${l.displayName}\n`,"")}\nThis takes about 10 seconds per package. Don't reload the page while it's installing.`;return confirm(i)}),(0,B.w)(e=>(this.alreadyProcessing=!0,this.showProgress=!0,this.devSimulateInstall?(alert("would install packages now, see list in console"),console.log("packages",e),(0,j.of)(!0)):this.installer.installPackages(e,s=>this.currentPackage=s))),(0,S.b)(()=>{this.showProgress=!1,alert("Installation complete \u{1f44d}"),this.devSimulateInstall?console.log("would reload now, but won't, as we're just simulating."):window.top.location.reload()}),(0,Zt.K)(e=>(console.error("Error: ",e),this.showProgress=!1,this.alreadyProcessing=!1,alert(`An error occurred: Package ${this.currentPackage.displayName}\n\n${e.error?.Message??e.error?.message??""}\n\n${e.message}\n\nPlease try again later or check how to manually install content-templates: https://azing.org/2sxc/r/0O4OymoA`),(0,j.of)(e)))).subscribe())}sendMessage(e){window.postMessage(JSON.stringify({action:e,moduleId:Z.moduleId()}))}toggleSimulate(){this.devSimulateInstall=!this.devSimulateInstall}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(pt),t.Y36(dt),t.Y36(v.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-installer"]],viewQuery:function(e,s){if(1&e&&t.Gf(St,5),2&e){let i;t.iGM(i=t.CRH())&&(s.installerWindow=i.first)}},inputs:{isContentApp:"isContentApp"},decls:3,vars:3,consts:[["class","progress",4,"ngIf"],[4,"ngIf"],[1,"progress"],[3,"mode"],["id","frGettingStarted","width","100%","height","300px",1,"fr-getting-started",3,"src"],["installerWindow",""],["type","button",3,"click"]],template:function(e,s){1&e&&(t.YNc(0,Lt,4,2,"div",0),t.YNc(1,Ft,3,1,"div",1),t.YNc(2,Ut,10,1,"div",1)),2&e&&(t.Q6J("ngIf",s.showProgress),t.xp6(1),t.Q6J("ngIf",s.ready),t.xp6(1),t.Q6J("ngIf",s.showDebug))},dependencies:[T.O5,N.Ou],styles:["[_nghost-%COMP%]   iframe[_ngcontent-%COMP%]{border:none;height:500px}[_nghost-%COMP%]   .progress[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:100%;width:100%;background:rgba(255,255,255,.8);display:flex;justify-content:center;flex-direction:column;text-align:center}[_nghost-%COMP%]   .progress[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{margin:0 auto}[_nghost-%COMP%]   .progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:48px}"]}),n})(),jt=(()=>{class n{transform(e,s,i){return e?.filter(a=>a[s]?.toLocaleLowerCase?.().includes?.(i?.toLocaleLowerCase?.()))??e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"filterByPropertyValue",type:n,pure:!0}),n})(),Dt=(()=>{class n{transform(e,s,i){return e?.filter(a=>a[s]===i)??e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"filterByBoolProperty",type:n,pure:!0}),n})();function Yt(n,o){if(1&n&&(t.TgZ(0,"div")(1,"h4"),t._uU(2,"Debug 2sxc 14 Quick Dialog"),t.qZA(),t.TgZ(3,"ul")(4,"li"),t._uU(5),t.qZA(),t.TgZ(6,"li"),t._uU(7),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"li"),t._uU(10),t.qZA(),t.TgZ(11,"li"),t._uU(12),t.qZA(),t.TgZ(13,"li"),t._uU(14),t.qZA(),t.TgZ(15,"li"),t._uU(16),t.qZA()()()),2&n){const e=t.oxw();let s;t.xp6(5),t.lnq("Types: ",null==e.types?null:e.types.length,", current: ",null==e.contentType?null:e.contentType.StaticName,", default: ",null==e.defaultContentType?null:e.defaultContentType.Label,""),t.xp6(2),t.AsE("Apps: ",null==(s=t.lcZ(8,16,e.apps$))?null:s.length,", current: ",null==e.app?null:e.app.AppId," "),t.xp6(3),t.AsE("Templates: ",null==e.templates?null:e.templates.length,", current: ",null==e.template?null:e.template.TemplateId,""),t.xp6(2),t.AsE("Config: isContent='",e.isContent,"' Ready: ",e.ready," "),t.xp6(2),t.lnq("Tab to show: '",e.tabIndex,"' / preventTypeSwitch '",e.preventTypeSwitch,"' / preventAppSwitch '",e.preventAppSwitch,"'"),t.xp6(2),t.HOy("installerNeeded: ",e.installerNeeded,", isInnerContent: ",e.isInnerContent,", installerShow: ",e.installerShow,", showInstallAndAllApps: ",e.showInstallAndAllApps,"")}}function Bt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.persistTemplate(i.template))}),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"check"),t.qZA()()}2&n&&t.uIk("title",t.lcZ(1,1,"TemplatePicker.Save"))}function Qt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.cancel())}),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"close"),t.qZA()()}if(2&n){const e=t.oxw();t.uIk("title",t.lcZ(1,1,"TemplatePicker."+(e.isContent?"Cancel":"Close")))}}function Et(n,o){if(1&n&&(t._uU(0),t.ALo(1,"translate"),t.ALo(2,"translate")),2&n){const e=t.oxw();t.hij(" ",e.isContent?(null==e.contentType?null:e.contentType.Name)||t.lcZ(1,1,"TemplatePicker.ContentTypePickerDefault"):(null==e.app?null:e.app.Name)||t.lcZ(2,3,"TemplatePicker.AppPickerDefault")," ")}}function qt(n,o){if(1&n&&t._UZ(0,"img",26),2&n){const e=t.oxw().$implicit;t.uIk("src",e.Thumbnail+"?w=176&h=176",t.LSH)}}function Gt(n,o){1&n&&(t.TgZ(0,"div",27)(1,"mat-icon"),t._uU(2,"star"),t.qZA()())}const gt=function(n,o){return{active:n,blocked:o}},H=function(n){return{show:n}};function Ht(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",20),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.selectApp(l.app,a))})("dblclick",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.switchTab())}),t.TgZ(1,"div",21),t.YNc(2,qt,1,1,"img",22),t.YNc(3,Gt,3,0,"div",23),t.qZA(),t.TgZ(4,"div",24)(5,"span"),t._uU(6),t.qZA()(),t.TgZ(7,"div",25)(8,"span"),t._uU(9),t.qZA()()()}if(2&n){const e=o.$implicit,s=t.oxw(2);t.Q6J("ngClass",t.WLB(7,gt,(null==s.app?null:s.app.AppId)===e.AppId,s.preventTypeSwitch)),t.uIk("title",e.Name),t.xp6(2),t.Q6J("ngIf",null!==e.Thumbnail&&""!==e.Thumbnail),t.xp6(1),t.Q6J("ngIf",null===e.Thumbnail||""===e.Thumbnail),t.xp6(3),t.hij("v",e.VersionMain,""),t.xp6(1),t.Q6J("ngClass",t.VKq(10,H,null===e.Thumbnail||""===e.Thumbnail)),t.xp6(2),t.Oqu(e.Name)}}const R=function(n){return{"show-installer":n}};function Rt(n,o){if(1&n&&(t.TgZ(0,"div",18),t.YNc(1,Ht,10,12,"div",19),t.ALo(2,"filterByPropertyValue"),t.ALo(3,"async"),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(8,R,e.installerShow)),t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,2,t.lcZ(3,6,e.apps$),"Name",e.appFilter))}}function Vt(n,o){if(1&n&&t._UZ(0,"img",26),2&n){const e=t.oxw().$implicit;t.uIk("src",e.Thumbnail+"?w=176&h=176",t.LSH)}}function zt(n,o){1&n&&(t.TgZ(0,"div",27)(1,"mat-icon"),t._uU(2,"bubble_chart"),t.qZA()())}function Kt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",29),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.selectContentType(l.contentType,a))})("dblclick",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.switchTab())}),t.ALo(1,"translate"),t.TgZ(2,"div",21),t.YNc(3,Vt,1,1,"img",22),t.YNc(4,zt,3,0,"div",23),t.qZA(),t.TgZ(5,"div",25)(6,"span"),t._uU(7),t.qZA()()()}if(2&n){const e=o.$implicit,s=t.oxw(2);t.Q6J("ngClass",t.WLB(8,gt,s.contentType?(null==s.contentType?null:s.contentType.StaticName)===e.StaticName:(null==s.defaultContentType?null:s.defaultContentType.StaticName)===e.StaticName,s.preventTypeSwitch)),t.uIk("title",t.lcZ(1,6,e.Label)+(s.showDebug?" ("+e.StaticName+")":"")),t.xp6(3),t.Q6J("ngIf",null!==e.Thumbnail&&""!==e.Thumbnail),t.xp6(1),t.Q6J("ngIf",null===e.Thumbnail||""===e.Thumbnail),t.xp6(1),t.Q6J("ngClass",t.VKq(11,H,null===e.Thumbnail||""===e.Thumbnail)),t.xp6(2),t.Oqu(e.Label)}}function Wt(n,o){if(1&n&&(t.TgZ(0,"div",18),t.YNc(1,Kt,8,13,"div",28),t.ALo(2,"filterByBoolProperty"),t.ALo(3,"filterByPropertyValue"),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(10,R,e.installerShow)),t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,2,t.Dn7(3,6,e.types,"Label",e.contentTypeFilter),"IsHidden",!1))}}function Xt(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" \xa0 \xa0 \xa0 ",t.lcZ(2,1,"TemplatePicker.ViewNeeds"+(e.isContent?"ContentType":"App"))," ")}}function te(n,o){1&n&&t._UZ(0,"mat-spinner",32)}function ee(n,o){if(1&n&&t._UZ(0,"img",26),2&n){const e=t.oxw().$implicit;t.uIk("src",e.Thumbnail+"?w=176&h=176",t.LSH)}}function ne(n,o){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"view_carousel"),t.qZA())}function se(n,o){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"view_quilt"),t.qZA())}function ie(n,o){if(1&n&&(t.TgZ(0,"div",27),t.YNc(1,ne,2,0,"mat-icon",1),t.YNc(2,se,2,0,"mat-icon",1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.isContent),t.xp6(1),t.Q6J("ngIf",!e.isContent)}}const oe=function(n){return{active:n}};function ae(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",33),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.selectTemplate(a))}),t.TgZ(1,"div",21),t.YNc(2,ee,1,1,"img",22),t.YNc(3,ie,3,2,"div",23),t.qZA(),t.TgZ(4,"div",25)(5,"span"),t._uU(6),t.qZA()()()}if(2&n){const e=o.$implicit,s=t.oxw(2);t.Q6J("ngClass",t.VKq(6,oe,(null==s.template?null:s.template.TemplateId)===e.TemplateId)),t.uIk("title",e.Name+(s.showDebug?" ("+e.TemplateId+")":"")),t.xp6(2),t.Q6J("ngIf",null!==e.Thumbnail&&""!==e.Thumbnail),t.xp6(1),t.Q6J("ngIf",null===e.Thumbnail||""===e.Thumbnail),t.xp6(1),t.Q6J("ngClass",t.VKq(8,H,null===e.Thumbnail||""===e.Thumbnail)),t.xp6(2),t.Oqu(e.Name)}}function le(n,o){if(1&n&&(t.TgZ(0,"div",18),t.YNc(1,te,1,0,"mat-spinner",30),t.ALo(2,"async"),t.YNc(3,ae,7,10,"div",31),t.ALo(4,"filterByPropertyValue"),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(9,R,e.installerShow)),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,e.templatesLoading$)),t.xp6(2),t.Q6J("ngForOf",t.Dn7(4,5,e.templates,"Name",e.templateFilter))}}function re(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"input",38),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.appFilter=i)}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("ngModel",e.appFilter)}}function pe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"input",38),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.contentTypeFilter=i)}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("ngModel",e.contentTypeFilter)}}function ce(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"input",38),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.templateFilter=i)}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("ngModel",e.templateFilter)}}function de(n,o){if(1&n&&(t.TgZ(0,"div",36),t.YNc(1,re,1,1,"input",37),t.YNc(2,pe,1,1,"input",37),t.YNc(3,ce,1,1,"input",37),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===e.tabIndex&&!e.isContent),t.xp6(1),t.Q6J("ngIf",0===e.tabIndex&&e.isContent),t.xp6(1),t.Q6J("ngIf",1===e.tabIndex)}}function ge(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.run("app-import"))}),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"get_app"),t.qZA(),t._uU(4),t.ALo(5,"translate"),t.qZA()}2&n&&(t.uIk("title",t.lcZ(1,2,"TemplatePicker.Install.Details")),t.xp6(4),t.hij(" ",t.lcZ(5,4,"TemplatePicker.Install")," "))}function ue(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.run("apps"))}),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"apps"),t.qZA(),t._uU(4),t.ALo(5,"translate"),t.qZA()}2&n&&(t.uIk("title",t.lcZ(1,2,"TemplatePicker.Zone.Details")),t.xp6(4),t.hij(" ",t.lcZ(5,4,"TemplatePicker.Zone")," "))}function he(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.run("app"))}),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"settings"),t.qZA(),t._uU(4),t.ALo(5,"translate"),t.qZA()}2&n&&(t.uIk("title",t.lcZ(1,2,"TemplatePicker.App.Details")),t.xp6(4),t.hij(" ",t.lcZ(5,4,"TemplatePicker.App")," "))}function me(n,o){if(1&n&&(t.YNc(0,de,4,3,"div",34),t.YNc(1,ge,6,6,"button",35),t.YNc(2,ue,6,6,"button",35),t.YNc(3,he,6,6,"button",35)),2&n){const e=t.oxw();t.Q6J("ngIf",e.showSearchBar),t.xp6(1),t.Q6J("ngIf",0===e.tabIndex&&e.showInstallAndAllApps),t.xp6(1),t.Q6J("ngIf",0===e.tabIndex&&e.showInstallAndAllApps),t.xp6(1),t.Q6J("ngIf",e.showAdminApp&&(e.isContent||1==e.tabIndex))}}function _e(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"br"),t._uU(2),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.hij(" You cannot use the installer from inner-content. Please install Apps first by adding a ",e.isContent?"Content":"App"," Module on a page. ")}}function be(n,o){1&n&&(t.ynx(0),t._UZ(1,"br"),t._uU(2," You don't have super-user permissions. Please try again with a super-user login. "),t.BQk())}function fe(n,o){if(1&n&&(t.TgZ(0,"span",40),t._uU(1),t.YNc(2,_e,3,1,"ng-container",1),t.YNc(3,be,3,0,"ng-container",1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" No ",e.isContent?"Content App":"Apps"," installed yet. You should see the installer here but we cannot show it. "),t.xp6(1),t.Q6J("ngIf",e.isInnerContent),t.xp6(1),t.Q6J("ngIf",!e.isInnerContent)}}function Ce(n,o){if(1&n&&t._UZ(0,"app-installer",41),2&n){const e=t.oxw();t.Q6J("isContentApp",e.isContent)}}const Te=function(n){return{opacity:n}},Pe=function(n){return{blocked:n}},f=h.subLog("picker",g_picker_enabled);let ye=(()=>{class n{constructor(e,s,i,a){this.backendSettings=e,this.api=s,this.state=i,this.cdRef=a,this.showCancel=!0,this.installerNeeded=!1,this.installerShow=!1,this.tabIndex=0,this.isInnerContent=!1,this.showSearchBar=!1,this.showInstallAndAllApps=!1,this.showAdminApp=!1,this.loading$=C.create(!1),this.preventAppSwitch=!1,this.showDebug=g_picker_showDebugPanel,this.appFilter="",this.contentTypeFilter="",this.templateFilter="",this.ready=!1,this.observablesAlreadyInitialized=!1,this.bridge=window.frameElement.bridge;const l=this.bridge.getAdditionalDashboardConfig();this.boot(l),console.log("2dm - CONSTRUCTOR")}ngOnInit(){this.autosyncObservablesToEnsureUiUpdates()}boot(e){this.showDebug=e.debug,nt.configureRuntimeLogging(e.debug),this.backendSettings.setApp(e.appId),this.api.initLoading(!e.isContent);const s=this.state.init(e);this.initObservables(s),this.initValuesFromBridge(e),this.loading$.next(!1)}debugObservables(){console.log("debugObservables"),g_picker_streams&&(this.loading$.subscribe(e=>f.add(`quick-dialog loading$:${e}`)),this.ready$.subscribe(e=>f.add(`quick-dialog ready$:${e}`)))}initObservables(e){if(this.observablesAlreadyInitialized)return;this.observablesAlreadyInitialized=!0;const s=e.pipe((0,m.h)(a=>!!a));this.ready$=(0,u.aj)([this.api.ready$,this.loading$]).pipe((0,d.U)(([a,l])=>a&&!l),(0,_.B)()),this.apps$=this.api.apps$;const i=(0,F.T)(this.state.type$,this.state.app$).pipe((0,m.h)(a=>!!a),(0,_.B)());(0,u.aj)([i,s]).subscribe(a=>this.switchTab("type/app ready and init-true")),(0,u.aj)([this.api.templates$,this.api.contentTypes$,this.api.apps$,this.api.ready$.pipe((0,m.h)(a=>!!a)),this.backendSettings.showAdvanced$]).pipe((0,d.U)(([a,l,p,r,D])=>{f.add("apps/templates loaded, will check if we should show installer"),this.installerNeeded=this.isContent?0===a.length:0===p.length,this.installerShow=D&&this.installerNeeded&&!this.isInnerContent,this.showSearchBar=!this.installerNeeded,this.showInstallAndAllApps=D&&(this.installerShow||!this.isContent),this.showAdminApp=D&&!this.installerNeeded,f.add("Debug Relevant Properties",{installerNeeded:this.installerNeeded,showAdv:D,isInnerContent:this.isInnerContent,installerShow:this.installerShow})})).subscribe(),this.templatesLoading$=(0,u.aj)([this.state.templates$,this.state.template$]).pipe((0,d.U)(([a,l])=>!(a&&l)),(0,b.O)(!1)),this.state.template$.pipe((0,m.h)(a=>!!a),(0,Ot.u)(s)).subscribe(a=>this.previewTemplate(a))}autosyncObservablesToEnsureUiUpdates(){this.state.app$.subscribe(e=>this.app=e),this.state.templates$.subscribe(e=>this.templates=e),this.state.template$.subscribe(e=>this.template=e),this.state.types$.subscribe(e=>{this.types=e,this.defaultContentType=U.firstDefault(e)}),this.state.type$.subscribe(e=>this.contentType=e),this.ready$.subscribe(e=>this.ready=e),(0,F.T)(this.ready$,this.state.app$,this.state.type$,this.state.types$,this.state.template$,this.state.templates$).subscribe(()=>this.cdRef.detectChanges())}initValuesFromBridge(e){this.showDebug&&console.log("initValuesFromBridge(config)",e),this.preventTypeSwitch=e.hasContent,this.isInnerContent=e.isInnerContent,this.isContent=e.isContent,this.supportsAjax=this.isContent||e.supportsAjax,this.preventAppSwitch=e.hasContent,this.showCancel=null!=e.templateId}cancel(){this.bridge.cancel()}run(e){this.bridge.run(e)}persistTemplate(e){this.bridge.setTemplate(e.TemplateId,e.Name,!0)}selectApp(e,s){e&&e.AppId===s.AppId?this.switchTab("select app"):(this.updateApp(s),this.templateFilter="")}selectContentType(e,s){e&&e.StaticName===s.StaticName?this.switchTab("select template"):(this.setContentType(s),this.templateFilter="")}selectTemplate(e){this.state.activateTemplate(e)}setContentType(e){f.add(`select content-type '${e.Name}'; prevent: ${this.preventTypeSwitch}`),!this.preventTypeSwitch&&this.state.activateType(e)}switchTab(e){f.add(`switchTab(${e})`),this.tabIndex=1,this.cdRef.detectChanges()}updateApp(e){const s=e.SupportsAjaxReload;if(f.add(`changing app to ${e.AppId}; prevent-switch: ${this.preventAppSwitch} use-ajax:${s}`),this.preventAppSwitch)return;this.loading$.next(!0),this.bridge.showMessage("loading App...");this.api.saveAppId(e.AppId.toString(),s).then(s?()=>{f.add("saved app, will reset some stuff"),f.add("calling reloadAndReInit()"),this.bridge.reloadAndReInit().then(a=>this.boot(a))}:()=>window.parent.location.reload())}previewTemplate(e){f.add(`previewTemplate(${e.TemplateId}), ajax is ${this.supportsAjax}`),this.loading$.next(!0),this.bridge.setTemplate(e.TemplateId,e.Name,!1).then(s=>this.loading$.next(!1))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(tt),t.Y36(E),t.Y36(at),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-template-picker"]],decls:21,vars:20,consts:[[1,"content"],[4,"ngIf"],[3,"ngStyle","mode"],[1,"card",3,"ngClass"],["fxLayout","row","fxLayoutAlign","center center",1,"top-controls"],["mat-fab","",3,"click",4,"ngIf"],["mat-mini-fab","","class","secondary",3,"click",4,"ngIf"],[3,"selectedIndex"],["mat-tab-label",""],["class","tiles",3,"ngClass",4,"ngIf","ngIfElse"],["contentApp",""],[3,"label"],["class","tiles",3,"ngClass",4,"ngIf"],["disabled",""],["class","no-install-allowed",4,"ngIf"],[3,"isContentApp",4,"ngIf"],["mat-fab","",3,"click"],["mat-mini-fab","",1,"secondary",3,"click"],[1,"tiles",3,"ngClass"],["class","tile",3,"ngClass","click","dblclick",4,"ngFor","ngForOf"],[1,"tile",3,"ngClass","click","dblclick"],[1,"bg"],["class","bg-img",4,"ngIf"],["class","bg-icon",4,"ngIf"],[1,"version"],[1,"title",3,"ngClass"],[1,"bg-img"],[1,"bg-icon"],["mat-button","","class","tile",3,"ngClass","click","dblclick",4,"ngFor","ngForOf"],["mat-button","",1,"tile",3,"ngClass","click","dblclick"],["class","templates-spinner",4,"ngIf"],["class","tile",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"templates-spinner"],[1,"tile",3,"ngClass","click"],["class","search-field",4,"ngIf"],["mat-button","","class","config-btn",3,"click",4,"ngIf"],[1,"search-field"],["type","text",3,"ngModel","ngModelChange",4,"ngIf"],["type","text",3,"ngModel","ngModelChange"],["mat-button","",1,"config-btn",3,"click"],[1,"no-install-allowed"],[3,"isContentApp"]],template:function(e,s){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,Yt,17,18,"div",1),t._UZ(2,"mat-progress-bar",2),t.TgZ(3,"div",3)(4,"div",4),t.YNc(5,Bt,4,3,"button",5),t.YNc(6,Qt,4,3,"button",6),t.qZA(),t.TgZ(7,"mat-tab-group",7)(8,"mat-tab"),t.YNc(9,Et,3,5,"ng-template",8),t.YNc(10,Rt,4,10,"div",9),t.YNc(11,Wt,4,12,"ng-template",null,10,t.W1O),t.qZA(),t.TgZ(13,"mat-tab",11),t.ALo(14,"translate"),t.YNc(15,Xt,3,3,"div",1),t.YNc(16,le,5,11,"div",12),t.qZA(),t.TgZ(17,"mat-tab",13),t.YNc(18,me,4,4,"ng-template",8),t.qZA()(),t.YNc(19,fe,4,3,"span",14),t.YNc(20,Ce,1,1,"app-installer",15),t.qZA()()),2&e){const i=t.MAs(12);t.xp6(1),t.Q6J("ngIf",s.showDebug),t.xp6(1),t.Q6J("ngStyle",t.VKq(16,Te,s.ready?0:1))("mode","indeterminate"),t.xp6(1),t.Q6J("ngClass",t.VKq(18,Pe,!s.ready)),t.xp6(2),t.Q6J("ngIf",s.template),t.xp6(1),t.Q6J("ngIf",s.showCancel),t.xp6(1),t.Q6J("selectedIndex",s.tabIndex),t.xp6(3),t.Q6J("ngIf",!s.isContent)("ngIfElse",i),t.xp6(3),t.Q6J("label",t.lcZ(14,14,"TemplatePicker.ChangeView")+" ("+s.templates.length+")"),t.xp6(2),t.Q6J("ngIf",!(s.isContent?s.contentType:s.app)),t.xp6(1),t.Q6J("ngIf",s.isContent?s.contentType:s.app),t.xp6(3),t.Q6J("ngIf",s.installerNeeded&&!s.installerShow),t.xp6(1),t.Q6J("ngIf",s.installerShow)}},dependencies:[T.mk,T.sg,T.O5,T.PC,I.SP,I.uD,I.uX,q.lW,G.Hw,J.pW,N.Ou,k.Fj,k.JJ,k.On,lt.xw,lt.Wh,rt.oO,rt.Zl,Jt,T.Ov,M.X$,jt,Dt],styles:['[_nghost-%COMP%]{display:block;padding-top:56px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{background:#fafafa;box-shadow:0 -1px 2px #0000004d;position:relative}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;min-height:164px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .top-controls[_ngcontent-%COMP%]{position:absolute;height:56px;right:4px;top:-56px;width:100%;text-align:center;z-index:2;display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .top-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;float:none;position:relative;top:28px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .top-controls[_ngcontent-%COMP%]   button.secondary[_ngcontent-%COMP%]{background:#fafafa!important;color:#000c}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]{white-space:nowrap;overflow-x:auto}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]:not(.show-installer){height:132px;overflow-y:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]{box-sizing:border-box;background:#fff;display:inline-block;margin:12px 0 12px 12px;position:relative;font-size:12px;border-radius:22px 0;height:88px;width:88px;line-height:88px;text-align:center;overflow:hidden;cursor:pointer;color:#00275388;transition:all .3s cubic-bezier(.25,.8,.25,1);box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]:hover{box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]{opacity:1;text-overflow:initial;height:auto;min-height:24px;padding:4px;white-space:pre-wrap;line-height:normal}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:translate(0)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]:hover   .version[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile.blocked[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile.active[_ngcontent-%COMP%]{cursor:pointer;box-shadow:0 14px 28px #00275344,0 10px 10px #0078dc38;opacity:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]:focus{color:#002753}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile.config[_ngcontent-%COMP%]{box-shadow:none;border:1px dashed rgba(0,0,0,.2);background:transparent}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;position:absolute;box-sizing:border-box;padding:0 4px;left:0;bottom:0;width:100%;height:24px;line-height:24px;background:rgb(255,255,255);color:#000c;letter-spacing:.1pt;font-size:11px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;opacity:0;font-weight:700;transition:opacity .4s ease}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]   .title.show[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]   .title.show[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:translate(0)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;transform:translateY(24px);transition:transform .4s cubic-bezier(.68,-.55,.265,1.55)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{display:inline-block;position:absolute;box-sizing:border-box;padding:0 4px;right:0;top:0;width:24px;height:24px;line-height:24px;color:#fff;letter-spacing:.1pt;font-size:11px;font-weight:700;white-space:nowrap;opacity:0;transition:opacity .4s ease}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:translateY(24px);transition:transform .4s cubic-bezier(.68,-.55,.265,1.55);text-shadow:0px 0px 5px #000}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .templates-spinner[_ngcontent-%COMP%]{width:48px;margin:12px 0 12px 12px;height:88px;display:inline-block}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{width:320px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:8px 0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 0 0 8px;float:left;background:#002753}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .fr-getting-started[_ngcontent-%COMP%]{border:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .no-install-allowed[_ngcontent-%COMP%]{background:#F44336;display:block;padding:16px;border-radius:2px;color:#fff;line-height:24px;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;text-align:center}[_nghost-%COMP%]   .mat-tab-group[_ngcontent-%COMP%]     .mat-tab-label.mat-tab-disabled{opacity:initial;color:initial;margin-left:auto}[_nghost-%COMP%]   .search-field[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;border-bottom:1px solid grey;background:transparent;padding-right:20px;width:60px;box-sizing:border-box}[_nghost-%COMP%]   .search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#000}[_nghost-%COMP%]   .search-field[_ngcontent-%COMP%]:after{position:absolute;right:0px;top:0;padding:2px;font-family:Material Icons;content:"search"}[_nghost-%COMP%]   .config-btn[_ngcontent-%COMP%]{float:initial!important;background:initial!important}[_nghost-%COMP%]   .config-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00275388}  mat-tab-group mat-tab-header{border-bottom:none!important}  mat-tab-group mat-tab-header mat-ink-bar{display:none!important}  mat-tab-group mat-tab-header .mat-tab-labels .mat-tab-label{min-width:0!important}  mat-tab-group mat-tab-header .mat-tab-labels .mat-tab-label.mat-tab-label-active{opacity:1}']}),n})(),ve=(()=>{class n extends Y.e1{constructor(e,s,i,a){super(s,i.preConfigure({sxc:Z.getSxcInstance()}),!1),this.translate=e,e.addLangs(xt),a.setApp(Z.appId()),a.data.subscribe(l=>{const p=l.Language;e.setDefaultLang("en"),e.use(function Tt(n){return n.split("-")[0]}(p.Current))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.sK),t.Y36(t.SBq),t.Y36(Y._y),t.Y36(tt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-root"]],features:[t.qOj],decls:1,vars:0,template:function(e,s){1&e&&t._UZ(0,"app-template-picker")},dependencies:[ye],styles:["[_nghost-%COMP%]{display:block}\n/*# sourceMappingURL=https://sources.2sxc.org/15.02.00/ng/C:/Projects/2sxc/2sxc-ui/projects/quick-dialog/src/app/app.component.css.map*/"]}),n})();var Me=c(2460),Oe=c(7169);let we=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[dt,E,at],imports:[T.ez,x.JF]}),n})();var Ie=c(239);let Ae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[pt],imports:[T.ez,N.Cq]}),n})();var ut=c(3404),ht=c(932),mt=c(9420);const $e=[q.ot,mt.Is,ut.To,G.Ps,J.Cv,N.Cq,I.Nh,ht.g0];let _t=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[$e,q.ot,mt.Is,ut.To,G.Ps,J.Cv,N.Cq,I.Nh,ht.g0]}),n})(),ke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[ot,U],imports:[T.ez,Oe.PW,Me.Tx,I.Nh,_t,J.Cv,we,k.u5,Ie.o9,Ae,M.aw]}),n})();function Ze(n){const o=new Ct.w(n,"./i18n/",".js");return h.add("created translate-loader",o),o}let Ne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n,bootstrap:[ve]}),n.\u0275inj=t.cJS({providers:[Y.UB],imports:[v.b2,x.JF,k.u5,ke,M.aw.forRoot({loader:{provide:M.Zw,useFactory:Ze,deps:[x.eN]}}),_t]}),n})();const bt=h.subLog("boot-controller");class A{constructor(){this._reboot=new ct.xQ,this.rebootRequest$=this._reboot.asObservable()}static getRebootController(){return bt.add("getRebootController()"),A.instance||(A.instance=new A),A.instance}reboot(){bt.add("restarting..."),this._reboot.next(!0)}}(0,t.G48)(),h.add("loading main.ts");const ft=v.q6();(window.bootController=A.getRebootController()).rebootRequest$.pipe((0,b.O)(!0)).subscribe(()=>function Le(){h.add("init()");try{ft.destroyed||ft.destroy()}catch(n){console.log("platform destroy error",n)}v.q6().bootstrapModule(Ne).then(()=>window.appBootstrap&&window.appBootstrap()).catch(n=>console.error("NG Bootstrap Error =>",n))}())}},$=>{$.O(0,[736],()=>$($.s=4496)),$.O()}]);
//# sourceMappingURL=https://sources.2sxc.org/15.02.00/ng/main.d411d438d0bed26d.js.map