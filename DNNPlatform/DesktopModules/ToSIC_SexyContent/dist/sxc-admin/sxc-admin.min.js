!function(){function t(t,n,e,r,a,i){var o=this;o.debug=r,o.view="start",a.getDialogSettings().then(function(t){o.config=t.data}),o.close=function(){i.dismiss("cancel")}}t.$inject=["eavAdminDialogs","eavConfig","appId","debugState","appDialogConfigSvc","$uibModalInstance"],angular.module("MainSxcApp",["EavConfiguration","SxcTemplates","EavAdminUi","EavServices","SxcFilters","ContentTypesApp","PipelineManagement","TemplatesApp","ImportExport","AppSettingsApp","SystemSettingsApp","WebApiApp","SxcServices"]).config(["$translatePartialLoaderProvider",function(t){t.addPart("sxc-admin")}]).controller("AppMain",t)}(),function(){function t(t,n,e,r){var a=this,i=t(n);a.items=i.liveList(),a.ready=function(){return a.items.length>0},a.config=function(t){return i.openConfig(t)},a.edit=function(t){return i.edit(t)},a.editPackage=i.editPackage,a.permissions=function(){return e.openPermissions(n,r.metadataOfApp,"number",n)}}t.$inject=["appSettings","appId","eavAdminDialogs","eavConfig"],angular.module("AppSettingsApp",["EavConfiguration","EavServices","SxcServices","SxcTemplates","EavAdminUi"]).controller("AppSettings",t)}(),function(){function t(t,n,e,r,a,i,o,s,p,l,c,d,u){function m(){}function g(t){return!t}function v(){b.featureSpinner=!0,new Promise(function(t,n){return b.manageFeaturesUrl=[""],t(h.getManageFeaturesUrl())}).then(function(t){var n=t.data;if(-1===n.indexOf("error: user needs host permissions"))return b.manageFeaturesUrl=[n],n;throw"User needs host permissions!"}).then(function(t){b.featureSpinner=!1,p.$apply()})["catch"](function(t){b.featureSpinner=!1,b.featuresShow=!0,console.log("error",t),alert(t)})}var b=this,f=t(o);b.items=f.liveList(),b.refresh=f.liveListReload,b.insightsUrl=u.resolveServiceUrl("app-sys/insights/help").replace("app-sys","sys"),console.debug("insights url"+b.insightsUrl),b.add=function(){var t=prompt(c.instant("AppManagement.Prompt.NewApp"));t&&f.create(t)},b.tryToDelete=function(t){var n=prompt(c.instant("AppManagement.Prompt.DeleteApp",{name:t.Name,id:t.Id}));null!==n&&(n===t.Name||"yes!"===n?f["delete"](t.Id):alert(c.instant("AppManagement.Prompt.FailedDelete")))},b.manage=function(t){var n=window.location.href;n=n.replace(new RegExp("appid=[0-9]*","i"),"appid="+t.Id).replace(/approot=[^&]*/,"approot="+t.AppRoot+"/").replace("dialog=zone","dialog=app"),e.openTotal(n,f.liveListReload)};var h=d();b.loadFeatures=h.liveList(),b.featureSpinner=!1,b.featuresShow=!0,b.featuresSwitch=function(){b.featuresShow=g(b.featuresShow),b.featuresShow||v()},b.featureReload=function(){h.reload()},l.addEventListener("message",function(t){if("undefined"!=typeof t.data){if(t.origin.endsWith("2sxc.org")===!1)return;b.featuresCallback(t.data),b.featuresShow=!0}}),b.featuresCallback=function(t){try{var n=JSON.stringify(t);h.saveFeatures(n)}catch(e){}},b.browseCatalog=function(){window.open("http://2sxc.org/apps")},b["import"]=function(){e.openAppImport(b.refresh)},b["export"]=function(t){var e=n.CreateResolve({appId:t.Id});return n.OpenModal("importexport/export-app.html","ExportApp as vm","lg",e,m)},b.languages=function(){e.openLanguages(o,b.refresh)},b.close=function(){s.dismiss("cancel")}}t.$inject=["appsSvc","eavAdminDialogs","sxcDialogs","eavConfig","appSettings","appId","zoneId","$uibModalInstance","$scope","$window","$translate","featuresConfigSvc","sxc"],angular.module("AppsManagementApp",["EavServices","EavConfiguration","SxcServices","SxcTemplates","EavAdminUi","SxcAdminUi"]).config(["$translatePartialLoaderProvider",function(t){t.addPart("sxc-admin")}]).controller("AppList",t)}(),function(){function t(t){return t.load(["../lib/ag-grid/ag-grid.min.js","../lib/ag-grid/ag-grid.min.css"])}function n(n,e,r,a,i,o,s,p,l){var c=this;c.dialog=i;var d=i;switch(c.close=function(){o.closeThis()},d){case"edit":p.openEditItemsNg1(r,c.close,{partOfPage:a.urlParams.get("partOfPage"),publishing:a.urlParams.get("publishing")});break;case"zone":o.openZoneMain(n,c.close);break;case"app":t(l).then(function(){o.openAppMain(e,c.close)});break;case"app-import":o.openAppImport(c.close);break;case"replace":o.openReplaceContent(r[0],c.close);break;case"instance-list":o.openManageContentList(r[0],c.close);break;case"develop":l.load([a.parts.getUrl("../sxc-develop/sxc-develop.min.js")]).then(function(){o.openDevelop(r[0],c.close)});break;case"contenttype":p.openContentTypeFieldsOfItems(r,c.close);break;case"contentitems":t(l).then(function(){p.openContentItems(e,s,s,c.close)});break;case"pipeline-designer":break;default:throw alert("Trying to open an unknown dialog ("+d+"). Will close again."),c.close(),"Trying to open a dialog, don't know which one"}}n.$inject=["zoneId","appId","items","$2sxc","dialog","sxcDialogs","contentTypeName","eavAdminDialogs","$ocLazyLoad"],angular.module("DialogHost",["SxcAdminUi","EavAdminUi","oc.lazyLoad","eavEditEntity"]).controller("DialogHost",n)}(),function(){angular.module("SxcFilters",[]).constant("createdBy","2sic").constant("license","MIT").filter("trustAsResourceUrl",["$sce",function(t){return function(n){return t.trustAsResourceUrl(n)}}]).filter("trustHtml",["$sce",function(t){return function(n){return t.trustAsHtml(n)}}])}(),function(){angular.module("ImportExport",["EavConfiguration","SxcTemplates","EavAdminUi","EavServices","SxcServices"])}(),function(){function t(t,n,e,r,a){function i(){o()}function o(){return t.getAppInfo().then(function(t){c.AppInfo=t})}function s(){return c.IsExporting=!0,t.exportApp(c.IncludeContentGroups,c.ResetAppGuid).then(function(){c.IsExporting=!1})["catch"](function(){c.IsExporting=!1})}function p(){return c.IsExporting=!0,t.exportForVersionControl(c.IncludeContentGroups,c.ResetAppGuid).then(function(){c.IsExporting=!1,alert("done - please check you '.data' folder")})["catch"](function(){c.IsExporting=!1})}function l(){a.dismiss("cancel")}var c=this;c.debug=e,c.IsExporting=!1,c.IncludeContentGroups=!1,c.ResetAppGuid=!1,c.AppInfo={},c.getAppInfo=o,c.exportApp=s,c.exportGit=p,c.close=l,i()}t.$inject=["ExportAppService","eavAdminDialogs","debugState","eavConfig","$uibModalInstance"],angular.module("ImportExport").controller("ExportApp",t)}(),function(){function t(t,n,e,r,a){function i(){return r.get(e.getUrlPrefix("api")+"/app-sys/ImportExport/GetAppInfo",{params:{appId:t,zoneId:n}}).then(function(t){return t.data})}function o(r,i){return window.open(e.getUrlPrefix("api")+"/app-sys/ImportExport/ExportApp?appId="+t+"&zoneId="+n+"&includeContentGroups="+r+"&resetAppGuid="+i,"_self",""),a.when(!0)}function s(e,a){return r.get("app-sys/ImportExport/ExportForVersionControl?appId="+t+"&zoneId="+n+"&includeContentGroups="+e+"&resetAppGuid="+a)}var p={getAppInfo:i,exportApp:o,exportForVersionControl:s};return p}t.$inject=["appId","zoneId","eavConfig","$http","$q"],angular.module("ImportExport").factory("ExportAppService",t)}(),function(){function t(t,n,e,r,a,i){function o(){s()}function s(){return t.getContentInfo(g.ExportScope).then(function(t){g.ContentInfo=t})}function p(){var n=l().map(function(t){return t.Id}),e=d().map(function(t){return t.Id}),r=c().map(function(t){return t.Id});return r=r.concat(e),g.IsExporting=!0,t.exportContent(n,r,e).then(function(){g.IsExporting=!1})["catch"](function(){g.IsExporting=!1})}function l(){return i("filter")(g.ContentInfo.ContentTypes,{_export:!0})}function c(){var t=[];return angular.forEach(g.ContentInfo.ContentTypes,function(n){t=t.concat(i("filter")(n.Entities,{_export:!0}))}),t}function d(){var t=[];return angular.forEach(g.ContentInfo.ContentTypes,function(n){t=t.concat(i("filter")(n.Templates,{_export:!0}))}),t=t.concat(i("filter")(g.ContentInfo.TemplatesWithoutContentTypes,{_export:!0}))}function u(){var t=prompt("Enter an new dcope for export");return t&&(g.ExportScope=t),s()}function m(){a.dismiss("cancel")}var g=Object.assign(this,{debug:r,IsExporting:!1,ExportScope:"2SexyContent",ContentInfo:null,getContentInfo:s,exportContent:p,changeExportScope:u,close:m});o()}t.$inject=["ExportContentService","eavAdminDialogs","eavConfig","debugState","$uibModalInstance","$filter"],angular.module("ImportExport").controller("ExportContent",t)}(),function(){function t(t,n,e,r,a){function i(a){return r.get(e.getUrlPrefix("api")+"/app-sys/ImportExport/GetContentInfo",{params:{appId:t,zoneId:n,scope:a||"2SexyContent"}}).then(function(t){return t.data})}function o(r,i,o){return window.open(e.getUrlPrefix("api")+"/app-sys/ImportExport/ExportContent?appId="+t+"&zoneId="+n+"&contentTypeIdsString="+r.join(";")+"&entityIdsString="+i.join(";")+"&templateIdsString="+o.join(";"),"_self",""),a.when(!0)}return{getContentInfo:i,exportContent:o}}t.$inject=["appId","zoneId","eavConfig","$http","$q"],angular.module("ImportExport").factory("ExportContentService",t)}(),function(){function t(t,n,e,r,a){function i(){return s.IsImporting=!0,t.importApp(s.ImportFile,s.ImportName).then(function(t){return s.ImportResult=t.data,s.IsImporting=!1,s.ImportResult&&s.ImportResult.Messages&&s.ImportResult.Messages[0]&&0===s.ImportResult.Messages[0].MessageType&&(s.ImportName=prompt(s.ImportResult.Messages[0].Text+" Would you like to install it using another folder name?"),s.ImportName)?i():t})["catch"](function(t){s.IsImporting=!1})}function o(){r.dismiss("cancel")}var s=this;s.IsImporting=!1,s.ImportFile={},s.ImportName="",s.ImportResult={},s.importApp=i,s.close=o}t.$inject=["ImportAppService","eavAdminDialogs","eavConfig","$uibModalInstance","$translate"],angular.module("ImportExport").controller("ImportApp",t)}(),function(){function t(t,n,e,r,a){function i(e,a){return r({method:"POST",url:"app-sys/ImportExport/ImportApp",headers:{"Content-Type":void 0},transformRequest:function(t){var n=new FormData;return n.append("AppId",t.AppId),n.append("ZoneId",t.ZoneId),n.append("File",t.File),n.append("Name",t.Name?t.Name:""),n},data:{AppId:t,ZoneId:n,File:e,Name:a}})}var o={importApp:i};return o}t.$inject=["appId","zoneId","eavConfig","$http","$q"],angular.module("ImportExport").factory("ImportAppService",t)}(),function(){function t(t,n,e,r){function a(){return o.IsImporting=!0,t.importContent(o.ImportFile).then(function(t){o.ImportResult=t.data,o.IsImporting=!1})["catch"](function(t){console.log(t),o.IsImporting=!1})}function i(){r.dismiss("cancel")}var o=this;o.IsImporting=!1,o.ImportFile={},o.ImportResult={},o.importContent=a,o.close=i}t.$inject=["ImportContentService","eavAdminDialogs","eavConfig","$uibModalInstance"],angular.module("ImportExport").controller("ImportContent",t)}(),function(){function t(t,n,e,r,a){function i(e){return r({method:"POST",url:"app-sys/ImportExport/ImportContent",headers:{"Content-Type":void 0},transformRequest:function(t){var n=new FormData;return n.append("AppId",t.AppId),n.append("ZoneId",t.ZoneId),n.append("File",t.File),n},data:{AppId:t,ZoneId:n,File:e}})}var o={importContent:i};return o}t.$inject=["appId","zoneId","eavConfig","$http","$q"],angular.module("ImportExport").factory("ImportContentService",t)}(),function(){function t(){return{scope:{sxcFileRead:"="},link:function(t,n,e){n.bind("change",function(n){var e=n.target.files[0],r=new FileReader;r.onload=function(n){t.$apply(function(){t.sxcFileRead={Name:e.name,Data:n.target.result}})},r.readAsDataURL(e)})}}}function n(){return{scope:{sxcFileInput:"="},link:function(t,n,e){n.bind("change",function(n){t.sxcFileInput=n.target.files[0],t.$apply()})}}}angular.module("ImportExport").directive("sxcFileRead",t).directive("sxcFileInput",n)}(),function(){function t(t,n,e){function r(){}var a=this;a.exportAll=function(){var n=t.CreateResolve({appId:e});return t.OpenModal("importexport/export-app.html","ExportApp as vm","lg",n,r)},a["import"]=function(){var n=t.CreateResolve({appId:e});return t.OpenModal("importexport/import-content.html","ImportContent as vm","lg",n,r)},a["export"]=function(){var n=t.CreateResolve({appId:e});return t.OpenModal("importexport/export-content.html","ExportContent as vm","lg",n,r)}}t.$inject=["eavAdminDialogs","eavConfig","appId"],angular.module("ImportExport").controller("ImportExportIntro",t)}(),function(){function t(t,n,e){var r=this,a=t();r.items=a.liveList(),r.ready=function(){return r.items.length>0},r.toggle=a.toggle,r.save=a.save}t.$inject=["languagesSvc","eavConfig","appId"],angular.module("SystemSettingsApp",["EavConfiguration","EavServices","SxcServices","SxcTemplates"]).controller("LanguageSettings",t)}(),function(){function t(t,n,e,r,a,i){var o=this;o.items=[],o.header={},o.contentGroup={id:n.EntityId,guid:n.Group.Guid,part:n.Group.Part,index:n.Group.Index};var s=e(t);o.reload=function(){return s.getList(o.contentGroup).then(function(t){o.items=t.data})},o.reload(),o.reloadHeader=function(){return s.getHeader(o.contentGroup).then(function(t){o.header=t.data})},o.reloadHeader(),o.ok=function(){s.saveList(o.contentGroup,o.items).then(o.close)},o.editHeader=function(){var t=[];t.push({Group:{Guid:o.contentGroup.guid,Index:0,Part:"listcontent",Add:"0"===o.header.Id},Title:i.instant("EditFormTitle.ListContent")}),t.push({Group:{Guid:o.contentGroup.guid,Index:0,Part:"listpresentation",Add:"0"===o.header.Id},Title:i.instant("EditFormTitle.ListPresentation")}),r.openEditItems(t,o.reloadHeader,{partOfPage:$2sxc.urlParams.get("partOfPage"),publishing:$2sxc.urlParams.get("publishing")})},o.edit=function(t){return null===t||0===t?alert("no can do"):void r.openItemEditWithEntityId(t,o.reload)},o.close=function(){a.dismiss("cancel")}}t.$inject=["appId","item","contentGroupSvc","eavAdminDialogs","$uibModalInstance","$translate"],angular.module("ReorderContentApp",["SxcServices","EavAdminUi"]).config(["$translatePartialLoaderProvider",function(t){t.addPart("inpage")}]).controller("ManageContentList",t)}(),function(){function t(t,n,e,r,a,i){var o=this;o.options=[],o.item={id:n.EntityId,guid:n.Group.Guid,part:n.Group.Part,index:n.Group.Index},o.typeName="";var s=e(t);o.reload=function(){return s.getItems(o.item).then(function(t){o.options=t.data.Items,o.item.id=t.data.SelectedId,o.typeName=t.data.ContentTypeName})},o.reload(),o.ok=function(){s.saveItem(o.item).then(o.close)},o.close=function(){a.dismiss("cancel")},o.convertToInt=function(t){return parseInt(t)},o.copySelected=function(){var t=(o.item.id,[{ContentTypeName:o.typeName,DuplicateEntity:o.item.id}]);r.openEditItems(t,o.reloadAfterCopy)},o.reloadAfterCopy=function(t){var n=t.data;o.reload().then(function(){o.item.id=n[Object.keys(n)[0]]})}}t.$inject=["appId","item","contentGroupSvc","eavAdminDialogs","$uibModalInstance","$filter"],angular.module("ReplaceContentApp",["SxcServices","EavAdminUi"]).controller("ReplaceDialog",t)}(),angular.module("SxcServices",["ng","EavConfiguration","EavServices","InitSxcParametersFromUrl","InitParametersFromUrl"]),angular.module("SxcServices").factory("appDialogConfigSvc",["appId","$http",function(t,n){var e={};return e.getDialogSettings=function(){return n.get("app-sys/system/dialogsettings",{params:{appId:t}})},e}]),angular.module("SxcServices").factory("appAssetsSvc",["$http","eavConfig","svcCreator",function(t,n,e){return function(n,r){var a={params:{appId:n,global:r||!1}};return a=angular.extend(a,e.implementLiveList(function(){return t.get("app-sys/appassets/list",{params:angular.extend({},a.params,{withSubfolders:!0})})})),a.create=function(n,e){return t.post("app-sys/appassets/create",{content:e||""},{params:angular.extend({},a.params,{path:n})}).then(function(t){return t.data===!1&&alert("server reported that create failed - the file probably already exists"),t}).then(a.liveListReload)},a}}]),angular.module("SxcServices").factory("appSettings",["$http","eavConfig","svcCreator","contentTypeSvc","contentItemsSvc","eavAdminDialogs","$filter",function(t,n,e,r,a,i,o){return function(t){var n=r(t,"2SexyContent-App");return n.promise=n.liveListReload(),n.openConfig=function(t,e){return n.promise.then(function(){var r=n.liveList(),a=o("filter")(r,{StaticName:t},!0);if(1!==a.length)throw"Found too many settings for the type "+t;var s=a[0];return i.openContentTypeFields(s,e)})},n.edit=function(t,e){return n.promise.then(function(){var r=a(n.appId,t);return r.liveListReload().then(function(n){var r=n.data;if(1!==r.length)throw"Found too many settings for the type "+t;var a=r[0];return i.openItemEditWithEntityId(a.Id,e)})})},n.editPackage=function(t){return n.edit("2SexyContent-App",t)},n}}]),angular.module("SxcServices").factory("appsSvc",["$http","eavConfig","svcCreator",function(t,n,e){return function(n){var r={zoneId:n};return r=angular.extend(r,e.implementLiveList(function(){return t.get("app-sys/system/apps",{params:{zoneId:r.zoneId}})})),r.create=function(n){return t.post("app-sys/system/app",{},{params:{zoneId:r.zoneId,name:n}}).then(r.liveListReload)},r["delete"]=function(n){return t.get("app-sys/system/deleteapp",{params:{zoneId:r.zoneId,appId:n}}).then(r.liveListReload)},r}}]),angular.module("SxcServices").factory("contentGroupSvc",["$http",function(t){return function(n){var e={getItems:function(e){return t.get("app-sys/contentgroup/replace",{params:{appId:n,guid:e.guid,part:e.part,index:e.index}})},saveItem:function(n){return t.post("app-sys/contentgroup/replace",{},{params:{guid:n.guid,part:n.part,index:n.index,entityId:n.id}})},getList:function(e){return t.get("app-sys/contentgroup/itemlist",{params:{appId:n,guid:e.guid}})},saveList:function(e,r){return t.post("app-sys/contentgroup/itemlist",r,{params:{appId:n,guid:e.guid}})},getHeader:function(e){return t.get("app-sys/contentgroup/header",{params:{appId:n,guid:e.guid}})}};return e}}]),angular.module("SxcServices").factory("featuresConfigSvc",["$http","eavConfig","svcCreator",function(t,n,e){return function(){var n={};return n=angular.extend(n,e.implementLiveList(function(){return t.get("app-sys/system/features")})),n.reload=function(){return t.get("app-sys/system/features",{params:{reload:!0}}).then(n.liveListReload)},n.getManageFeaturesUrl=function(){return t.get("app-sys/system/managefeaturesurl")},n.saveFeatures=function(e){return t.post("app-sys/system/SaveFeatures",e).then(function(t){return t.data===!1&&alert("server reported that save feature failed"),t}).then(n.liveListReload)},n}}]),angular.module("InitSxcParametersFromUrl",["2sxc4ng"]).factory("dialog",["$2sxc",function(t){return t.urlParams.get("dialog")}]).factory("tabId",["$2sxc",function(t){return t.urlParams.get("tid")}]).factory("websiteRoot",["$2sxc",function(t){return t.urlParams.get("websiteroot")}]).factory("systemRoot",["websiteRoot",function(t){return t+"desktopmodules/tosic_sexycontent/"}]).factory("portalRoot",["$2sxc",function(t){return t.urlParams.get("portalroot")}]).factory("appRoot",["$2sxc",function(t){return t.urlParams.get("appRoot")}]).factory("items",["$2sxc",function(t){var n=t.urlParams.get("items");return n?n?JSON.parse(n):null:void 0}]).factory("beta",["$2sxc",function(t){return t.urlParams.get("beta")}]),angular.module("SxcServices").factory("languagesSvc",["$http","eavConfig","svcCreator",function(t,n,e){return function(n){var r={appId:n};return r=angular.extend(r,e.implementLiveList(function(){return t.get("app-sys/system/getlanguages")})),r.toggle=function(n){return t.get("app-sys/system/switchlanguage",{params:{cultureCode:n.Code,enable:!n.IsEnabled}}).then(r.liveListReload)},r.save=function(n){return t.get("app-sys/system/switchlanguage",{params:{cultureCode:n.Code,enable:n.IsEnabled}}).then(r.liveListReload)},r}}]),angular.module("SxcAdminUi",["ng","ui.bootstrap","MainSxcApp","AppsManagementApp","ReplaceContentApp","ReorderContentApp","SystemSettingsApp","SxcTemplates","SxcEditTemplates","sxcFieldTemplates","EavAdminUi"]).factory("sxcDialogs",["$uibModal","eavAdminDialogs",function(t,n){function e(t,e){var r=n.CreateResolve({zoneId:t});return n.OpenModal("apps-management/apps.html","AppList as vm","xlg",r,e)}function r(t,e){var r=n.CreateResolve({appId:t});return n.OpenModal("app-main/app-main.html","AppMain as vm","xlg",r,e)}function a(t){var e=n.CreateResolve({});return n.OpenModal("importexport/import-app.html","ImportApp as vm","lg",e,t)}function i(t,n){return $2sxc.totalPopup.open(u.browserFixUrlCaching(t),n)}function o(t){var n=/(\/ui.html\?sxcver=[0-9\.]*)((&time=)([0-9]*))*/gi;return t.match(n)&&(t=t.replace(n,"$1&time="+(new Date).getTime())),t}function s(){return $2sxc.totalPopup.closeThis()}function p(t,e){var r=n.CreateResolve({item:t});return n.OpenModal("replace-content/replace-content.html","ReplaceDialog as vm","lg",r,e)}function l(t,e){var r=n.CreateResolve({item:t});return n.OpenModal("manage-content-list/manage-content-list.html","ManageContentList as vm","",r,e)}function c(t,e){n.openModalComponent("editor","max",{item:t},e)}function d(t,e){var r=n.CreateResolve({zoneId:t});return n.OpenModal("language-settings/languages.html","LanguageSettings as vm","lg",r,e)}var u={openZoneMain:e,openAppMain:r,openAppImport:a,openTotal:i,browserFixUrlCaching:o,closeThis:s,openReplaceContent:p,openManageContentList:l,openDevelop:c,openLanguages:d};return u}]),angular.module("SxcServices").factory("templatesSvc",["$http","eavConfig","svcCreator",function(t,n,e){return function(n){var r={appId:n};return r=angular.extend(r,e.implementLiveList(function(){return t.get("app-sys/template/getall",{params:{appId:r.appId}})})),r["delete"]=function(n){return t.get("app-sys/template/delete",{params:{appId:r.appId,Id:n}}).then(r.liveListReload)},r}}]),angular.module("SxcServices").factory("webApiSvc",["$http","eavConfig","svcCreator",function(t,n,e){return function(n){var r={appId:n};return r=angular.extend(r,e.implementLiveList(function(){return t.get("app-sys/appassets/list",{params:{appId:r.appId,path:"api",mask:"*.cs"}})}))}}]),angular.module("SxcTemplates",[]).run(["$templateCache",function(t){t.put("app-main/app-main.html",'<div ng-click="vm.debug.autoEnableAsNeeded($event)">\r\n    <div class="modal-header">\r\n        <button class="btn btn-default btn-square btn-subtle pull-right" type="button" ng-click="vm.close()">\r\n            <i icon="remove"></i>\r\n        </button>\r\n        <h3 class="modal-title" translate="Main.Title"></h3>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div>\r\n            <uib-tabset>\r\n                <uib-tab>\r\n                    <uib-tab-heading>\r\n                        <span uib-tooltip="{{\'Main.Tab.GettingStarted\' | translate }}">\r\n                            <i icon="home"></i> {{\'Main.Tab.GS\' | translate | trustHtml }}\r\n                        </span>\r\n                    </uib-tab-heading>\r\n\r\n                    <iframe ng-src="{{ vm.config.GettingStartedUrl | trustAsResourceUrl }}" style="border: none; width: 100%; height: 500px"></iframe>\r\n                    \r\n                    <div ng-hide="true">\r\n                        original script, maybe we need it\r\n                        $(document).ready(function () {\r\n                        $(window).bind("resize", function () {\r\n                        var GettingStartedFrame = $(".sc-iframe-gettingstarted");\r\n                        GettingStartedFrame.height($(window).height() - 50);\r\n                        });\r\n\r\n                        $(window).trigger("resize");\r\n                        });\r\n                    </div>\r\n                </uib-tab>\r\n\r\n                <uib-tab select="vm.view=\'content\'">\r\n                    <uib-tab-heading>\r\n                        <span icon="list" uib-tooltip="{{\'Main.Tab.ContentData\' | translate }}"></span> {{\'Main.Tab.CD\' | translate }}\r\n                    </uib-tab-heading>\r\n                    <div ng-if="vm.view == \'content\'">\r\n                        <div ng-controller="List as vm" ng-include="\'content-types/content-types.html\'"></div>\r\n                    </div>\r\n                </uib-tab>\r\n\r\n\r\n                <uib-tab select="vm.view=\'query\'" ng-if="!vm.config.IsContent">\r\n                    <uib-tab-heading>\r\n                        <span icon="filter" uib-tooltip="{{\'Main.Tab.Query\' | translate }}"></span> {{\'Main.Tab.Q\' | translate }}\r\n                    </uib-tab-heading>\r\n                    <div ng-if="vm.view == \'query\'">\r\n                        <div ng-controller="PipelineManagement as vm" ng-include="\'pipelines/pipelines.html\'"></div>\r\n\r\n                    </div>\r\n                </uib-tab>\r\n\r\n                <uib-tab select="vm.view=\'view\'">\r\n                    <uib-tab-heading>\r\n                        <span icon="picture" uib-tooltip="{{\'Main.Tab.ViewsTemplates\' | translate }}"></span> {{\'Main.Tab.VT\' | translate }}\r\n                    </uib-tab-heading>\r\n                    <div ng-if="vm.view == \'view\'">\r\n                        <div ng-controller="TemplateList as vm" ng-include="\'templates/templates.html\'"></div>\r\n\r\n                    </div>\r\n                </uib-tab>\r\n\r\n\r\n\r\n\r\n                <uib-tab select="vm.view=\'webapi\'" ng-if="!vm.config.IsContent">\r\n                    <uib-tab-heading>\r\n                        <span icon="flash" uib-tooltip="{{\'Main.Tab.WebApi\' | translate }}"></span> {{\'Main.Tab.WA\' | translate }}\r\n                    </uib-tab-heading>\r\n                    <div ng-if="vm.view == \'webapi\'">\r\n                        <div ng-controller="WebApiMain as vm" ng-include="\'web-api/web-api.html\'"></div>\r\n                    </div>\r\n                </uib-tab>\r\n\r\n\r\n                <uib-tab select="vm.view=\'app\'">\r\n                    <uib-tab-heading>\r\n                        <span icon="unchecked" uib-tooltip="{{\'Main.Tab.AppSettings\' | translate }}"></span> {{\'Main.Tab.AS\' | translate }}\r\n                    </uib-tab-heading>\r\n                    <div ng-if="vm.view == \'app\'">\r\n                        <div xng-if="!vm.config.IsContent">\r\n                            <div ng-controller="AppSettings as vm" ng-include="\'app-settings/app-settings.html\'"></div>\r\n                            <br />                            \r\n                        </div>\r\n                        <div ng-controller="ImportExportIntro as vm" ng-include="\'importexport/intro.html\'"></div>\r\n                    </div>\r\n                </uib-tab>\r\n\r\n                <uib-tab select="vm.view=\'portal\'">\r\n                    <uib-tab-heading>\r\n                        <span icon="globe" uib-tooltip="{{\'Main.Tab.PortalLanguages\' | translate }}"></span> {{\'Main.Tab.PL\' | translate }}\r\n                    </uib-tab-heading>\r\n                    <div ng-if="vm.view == \'portal\'">\r\n                        <h3 translate="Main.Portal.Title"></h3>\r\n                        <div translate="Main.Portal.Intro"></div>\r\n                        <div ng-controller="LanguageSettings as vm" ng-include="\'language-settings/languages.html\'"></div>\r\n\r\n                    </div>\r\n                </uib-tab>\r\n\r\n            </uib-tabset>\r\n\r\n        </div>\r\n\r\n\r\n    </div>\r\n    <show-debug-availability class="pull-right"></show-debug-availability>\r\n</div>'),t.put("app-settings/app-settings.html",'    \r\n<div class="modal-body">\r\n    <h3 translate="AppConfig.Title"></h3>\r\n    <div translate="AppConfig.Intro"></div>\r\n\r\n    <div class="clearfix">\r\n        <div class="pull-left btn-group-vertical">\r\n            <button uib-tooltip="{{ \'AppConfig.Settings.Edit\' | translate }}" ng-disabled="!vm.ready()" ng-click="vm.edit(\'App-Settings\')" class="btn btn-primary btn-square" type="button">\r\n                <i icon="pencil"></i>\r\n            </button>\r\n            <button uib-tooltip="{{ \'AppConfig.Settings.Config\' | translate }}" ng-disabled="!vm.ready()" ng-click="vm.config(\'App-Settings\')" class="btn btn-default btn-square" type="button">\r\n                <i icon="cog"></i>\r\n            </button>\r\n        </div>\r\n        <div style="margin-left: 50px">\r\n            <h4 class="modal-title" translate="AppConfig.Settings.Title"></h4>\r\n            <div translate="AppConfig.Settings.Intro"></div>\r\n        </div>\r\n    </div>\r\n    <br/>\r\n    <div class="clearfix">\r\n        <div class="pull-left btn-group-vertical">\r\n            <button uib-tooltip="{{\'AppConfig.Resources.Edit\' | translate}}" ng-disabled="!vm.ready()" ng-click="vm.edit(\'App-Resources\')" class="btn btn-square btn-primary" type="button">\r\n                <i icon="pencil"></i>\r\n            </button>\r\n\r\n            <button uib-tooltip="{{\'AppConfig.Resources.Config\' | translate}}" ng-disabled="!vm.ready()" ng-click="vm.config(\'App-Resources\')" class="btn btn-square btn-default" type="button">\r\n                <i icon="cog"></i>\r\n            </button>\r\n        </div>\r\n        <div style="margin-left: 50px">\r\n            <h4 class="modal-title" translate="AppConfig.Resources.Title"></h4>\r\n            <div translate="AppConfig.Resources.Intro"></div>\r\n        </div>\r\n    </div>\r\n    <br/>\r\n\r\n    <div>\r\n        <div class="pull-left btn-group-vertical">\r\n            <button uib-tooltip="{{\'AppConfig.Definition.Edit\' | translate}}" ng-disabled="!vm.ready()" ng-click="vm.editPackage()" class="btn btn-primary btn-square" type="button">\r\n                <i icon="cog"></i>\r\n            </button>\r\n        </div>\r\n        <div style="margin-left: 50px">\r\n\r\n            <h4 class="modal-title" translate="AppConfig.Definition.Title"></h4>\r\n            <div translate="AppConfig.Definition.Intro"></div>\r\n        </div>\r\n    </div>\r\n    <br/>\r\n    \r\n    <div class="clearfix">\r\n        <div class="pull-left btn-group-vertical">\r\n            <button uib-tooltip="{{\'AppConfig.Permissions.Edit\' | translate}}" ng-disabled="!vm.ready()" ng-click="vm.permissions()" class="btn btn-square btn-primary" type="button">\r\n                <i icon="user"></i>\r\n            </button>\r\n        </div>\r\n        <div style="margin-left: 50px">\r\n            <h4 class="modal-title" translate="AppConfig.Permissions.Title"></h4>\r\n            <div translate="AppConfig.Permissions.Intro"></div>\r\n        </div>\r\n    </div>\r\n\r\n</div>'),t.put("apps-management/apps.html",'<div>\r\n    <div class="modal-header">\r\n        <button icon="remove" class="btn btn-default btn-square btn-subtle pull-right" type="button" ng-click="vm.close()"></button>\r\n        <h3 class="modal-title" translate="AppManagement.Title"></h3>\r\n    </div>\r\n    <div class="modal-body">\r\n        <uib-tabset>\r\n            <uib-tab>\r\n                <uib-tab-heading>\r\n                    <span uib-tooltip="{{\'AppManagement.Tab.Apps\' | translate }}">\r\n                        <i class="eav-icon-app"></i> {{\'AppManagement.Tab.Apps\' | translate | trustHtml }}\r\n                    </span>\r\n                </uib-tab-heading>\r\n\r\n                <span class="btn-group">\r\n                    <button type="button" class="btn btn-primary" ng-click="vm.browseCatalog()">\r\n                        <span icon="search"></span> {{ \'AppManagement.Buttons.Browse\' | translate }}\r\n                    </button>\r\n                    <button type="button" class="btn" ng-click="vm.import()">\r\n                        <span icon="import" uib-tooltip="{{ \'AppManagement.Buttons.Import\' | translate }}"></span>\r\n                    </button>\r\n\r\n                    <button type="button" class="btn" ng-click="vm.add()">\r\n                        <span icon="plus" uib-tooltip="{{ \'AppManagement.Buttons.Create\' | translate }}"></span>\r\n                    </button>\r\n                    <button type="button" class="btn" ng-click="vm.refresh()">\r\n                        <span icon="repeat" uib-tooltip="{{ \'AppManagement.Buttons.Reload\' | translate }}"></span>\r\n                    </button>\r\n                </span>\r\n                <table class="table table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th translate="AppManagement.Table.Name"></th>\r\n                        <th translate="AppManagement.Table.Folder"></th>\r\n                        <!--<th translate="AppManagement.Table.Templates"></th>-->\r\n                        <th> <span icon="eye-open" uib-tooltip="{{ \'AppManagement.Table.Show\' | translate }}"></span></th>\r\n                        <th translate="AppManagement.Table.Actions"></th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr ng-repeat="item in vm.items | orderBy:\'Title\'" ng-click="vm.manage(item)">\r\n                        <td class="clickable">\r\n                            <span uib-tooltip="\r\nId: {{item.Id}}\r\nGuid: {{item.Guid}}">{{item.Name}}</span>\r\n                        </td>\r\n                        <td class="clickable">{{item.Folder}}</td>\r\n                        <!--<td></td>-->\r\n                        <td><span icon="{{ item.IsHidden ? \'eye-close\' : \'eye-open\' }}"></span> </td>\r\n                        <td stop-event="click">\r\n                            <!--<button icon="cog" ng-disabled="!item.IsApp" type="button" class="btn btn-xs" ng-click="vm.config(item)"></button>-->\r\n                            <!-- disabled export because there\'s no good way to pass the app-id to the dialog with dependency injection - part of #887 -->\r\n                            <!--<button icon="export" class="btn btn-xs" type="button" ng-click="vm.export(item)"></button>-->\r\n                            <button icon="remove" ng-disabled="{{!item.IsApp}}" type="button" class="btn btn-xs" ng-click="vm.tryToDelete(item)"></button>\r\n                        </td>\r\n                    </tr>\r\n                    <tr ng-if="!vm.items.length">\r\n                        <td colspan="100" translate="General.Messages.NothingFound"></td>\r\n                    </tr>\r\n                    </tbody>\r\n                </table>\r\n            </uib-tab>\r\n            \r\n            \r\n            \r\n            <uib-tab>\r\n                <uib-tab-heading>\r\n                    <span uib-tooltip="{{\'AppManagement.Tab.Settings\' | translate }}">\r\n                        <i class="eav-icon-settings"></i> {{\'AppManagement.Tab.Settings\' | translate | trustHtml }}\r\n                    </span>\r\n                </uib-tab-heading>\r\n                \r\n                <h4>Settings for the current Zone/Portal</h4>\r\n\r\n                <span class="btn-group">\r\n                    <button type="button" class="btn btn-primary" ng-click="vm.languages()" uib-tooltip="{{ \'AppManagement.Buttons.Languages\' | translate }}">\r\n                        <i class="eav-icon-globe"></i>\r\n                        {{ \'AppManagement.Buttons.Languages\' | translate }}\r\n                    </button>\r\n                </span>\r\n\r\n\r\n\r\n            </uib-tab>\r\n\r\n            \r\n\r\n            <uib-tab>\r\n                <uib-tab-heading>\r\n                    <span uib-tooltip="{{\'AppManagement.Features.Tab.Help\' | translate }}">\r\n                        <i class="eav-icon-sliders"></i> {{\'AppManagement.Features.Tab\' | translate | trustHtml }}\r\n                    </span>\r\n                </uib-tab-heading>\r\n                <p>\r\n                    {{ "AppManagement.Features.Intro" | translate | trustHtml }}\r\n                </p>\r\n\r\n                <button type="button" class="btn btn-primary" ng-click="vm.featuresSwitch()">\r\n                    <span class="eav-icon-sliders" uib-tooltip="{{ \'AppManagement.Features.Manage.Help\' | translate }}"></span>\r\n                    {{ \'AppManagement.Features.Manage\' | translate }}\r\n                </button>\r\n                <button type="button" class="btn btn-primary" ng-click="vm.featureReload()">\r\n                    <span class="eav-icon-reload" todo-uib-tooltip="{{ \'AppManagement.Features.Manage.Help\' | translate }}"></span>\r\n                    Reload\r\n                </button>\r\n\r\n\r\n                <table class="table table-hover" ng-show="vm.featuresShow">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>\r\n                                <i class="eav-icon-toggle-on" uib-tooltip="{{\'AppManagement.Features.Table.Enabled.Help\' | translate }}"></i>\r\n                            </th>\r\n                            <th>\r\n                                <span uib-tooltip="{{\'AppManagement.Features.Table.Name.Help\' | translate }}">\r\n                                    {{ "AppManagement.Features.Table.Name" | translate }}\r\n                                </span>\r\n                            </th>\r\n                            <th>\r\n                                <span uib-tooltip="{{\'AppManagement.Features.Table.Id.Help\' | translate }}">\r\n                                    {{ "AppManagement.Features.Table.Id" | translate }}\r\n                                </span>\r\n                            </th>\r\n                            <th>\r\n                                <span uib-tooltip="{{\'AppManagement.Features.Table.Expires.Help\' | translate }}">\r\n                                    {{ "AppManagement.Features.Table.Expires" | translate }}\r\n                                </span>\r\n                            </th>\r\n                            <th>\r\n                                <span uib-tooltip="{{\'AppManagement.Features.Table.Ui.Help\' | translate }}">\r\n                                    {{ "AppManagement.Features.Table.Ui" | translate }}\r\n                                </span>\r\n                            </th>\r\n                            <th>\r\n                                <span uib-tooltip="{{\'AppManagement.Features.Table.Public.Help\' | translate }}">\r\n                                    {{ "AppManagement.Features.Table.Public" | translate }}\r\n                                </span>\r\n                            </th>\r\n                            <th>\r\n                                <span uib-tooltip="{{\'AppManagement.Features.Table.Security.Help\' | translate }}">\r\n                                    {{ "AppManagement.Features.Table.Security" | translate }}\r\n                                </span>\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr ng-repeat="item in vm.loadFeatures">\r\n                            <td>\r\n                                <i ng-class=" item.enabled ? \'eav-icon-toggle-on\' : \'eav-icon-toggle-off\'"\r\n                                   uib-tooltip="{{\'General.State.OnOff.\' + item.enabled | translate }}"></i>\r\n                            </td>\r\n                            <td><a href="{{ \'https://2sxc.org/r/f/\' + item.id }}" target="_blank">details</a> (name lookup still WIP)</td>\r\n                            <td style="font-family: monospace">{{item.id}}</td>\r\n                            <td><span uib-tooltip="{{item.expires}}">{{item.expires | date:\'yyyy-MM-dd\' }}</span></td>\r\n                            <td><i ng-class="item.ui ? \'eav-icon-eye\' : \'eav-icon-minus\'"></i></td>\r\n                            <td><i ng-class=" item.public ? \'eav-icon-user\' : \'eav-icon-minus\'"></i></td>\r\n                            <td>\r\n                                <!-- todo: get the status from the 2sxc.org web-api and change colors -->\r\n                                <i class="eav-icon-help-circled"\r\n                                   uib-tooltip="Security Status still work-in progress"\r\n                                   style="color: green"></i>\r\n                            </td>\r\n                        </tr>\r\n                        <tr ng-if="!vm.loadFeatures.length">\r\n                            <td colspan="100" translate="General.Messages.NothingFound"></td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                <div class="sxc-spinner" ng-show="vm.featureSpinner" class="sxc-import-spinner"><i class="eav-icon-spinner animate-spin"></i></div>\r\n                <iframe ng-repeat="url in vm.manageFeaturesUrl" ng-src="{{ url | trustAsResourceUrl }}" ng-show="!vm.featuresShow" style="border: none; width: 100%; height: 500px"></iframe>\r\n\r\n\r\n            </uib-tab>\r\n            \r\n            <uib-tab>\r\n                <uib-tab-heading>\r\n                    <span uib-tooltip="Insights">\r\n                        <i class="eav-icon-database"></i> 2sxc Insights\r\n                    </span>\r\n                </uib-tab-heading>\r\n                \r\n                <h4>2sxc Insights for Super Users</h4>\r\n                <p>\r\n                    This is to access a special section to see what is really in the server memory. It\'s intended for extensive debugging - see also \r\n                    <a href="https://2sxc.org/en/blog/post/using-2sxc-insights" target="_blank">this blog post</a>. \r\n                </p>\r\n\r\n                <span class="btn-group">\r\n                    <a type="button" class="btn btn-primary" ng-href="{{vm.insightsUrl}}" target="_blank">\r\n                        <i class="eav-icon-database"></i>\r\n                        Open 2sxc Insights\r\n                    </a>\r\n                </span>\r\n\r\n\r\n\r\n            </uib-tab>\r\n            \r\n\r\n\r\n        </uib-tabset>\r\n    </div>\r\n</div>'),
t.put("importexport/export-app.html",'<div ng-click="vm.debug.autoEnableAsNeeded($event)">\r\n    <div class="modal-header">\r\n        <button icon="remove" class="btn pull-right" type="button" ng-click="vm.close()"></button>\r\n        <h3 class="modal-title" translate="ImportExport.ExportApp.Title"></h3>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div translate="ImportExport.ExportApp.Intro"></div>\r\n        <div translate="ImportExport.ExportApp.FurtherHelp"></div>\r\n\r\n        <h5>{{"ImportExport.ExportApp.Specifications.Title" | translate}}</h5>\r\n        <ul>\r\n            <li>{{"ImportExport.ExportApp.Specifications.AppName" | translate}} {{vm.AppInfo.Name}}</li>\r\n            <li>{{"ImportExport.ExportApp.Specifications.AppGuid" | translate}} {{vm.AppInfo.Guid}}</li>\r\n            <li>{{"ImportExport.ExportApp.Specifications.AppVersion" | translate}} {{vm.AppInfo.Version}}</li>\r\n        </ul>\r\n\r\n        <h5>{{"ImportExport.ExportApp.Content.Title" | translate}}</h5>\r\n        <ul>\r\n            <li>{{vm.AppInfo.EntitiesCount}} {{"ImportExport.ExportApp.Content.EntitiesCount" | translate}}</li>\r\n            <li>{{vm.AppInfo.LanguagesCount}} {{"ImportExport.ExportApp.Content.LanguagesCount" | translate}}</li>\r\n            <li>{{vm.AppInfo.TemplatesCount}} {{"ImportExport.ExportApp.Content.TemplatesCount" | translate}} ({{"ImportExport.ExportApp.Content.TokenTemplates" | translate}} {{vm.AppInfo.HasTokenTemplates}}, {{"ImportExport.ExportApp.Content.RazorTemplates" | translate}} {{vm.AppInfo.HasRazorTemplates}})</li>\r\n            <li>{{vm.AppInfo.TransferableFilesCount}} {{"ImportExport.ExportApp.Content.TransferableFilesCount" | translate}}</li>\r\n            <li>{{vm.AppInfo.FilesCount}} {{"ImportExport.ExportApp.Content.FilesCount" | translate}}</li>\r\n        </ul>\r\n\r\n        <div>\r\n            <input ng-model="vm.IncludeContentGroups" type="checkbox" ng-disabled="vm.ResetAppGuid" /> {{"ImportExport.ExportApp.Options.IncludeContentGroups" | translate}}\r\n        </div>\r\n        <div>\r\n            <input ng-model="vm.ResetAppGuid" type="checkbox" ng-disabled="vm.IncludeContentGroups"/> {{"ImportExport.ExportApp.Options.ResetAppGuid" | translate}}\r\n        </div>\r\n    </div>\r\n\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary pull-left" ng-click="vm.exportApp()" translate="ImportExport.ExportApp.Commands.Export" ng-disabled="vm.IsExporting"></button>\r\n        <button type="button" class="btn btn-default pull-left" ng-click="vm.exportGit()"\r\n                translate="ImportExport.ExportApp.Commands.ExportForVersionControl"\r\n                ng-disabled="vm.IsExporting"\r\n                xxxng-show="vm.debug.on"\r\n                ></button>\r\n    </div>\r\n    <show-debug-availability class="pull-right"></show-debug-availability>\r\n</div>\r\n'),t.put("importexport/export-content.html",'<div ng-click="vm.debug.autoEnableAsNeeded($event)">\r\n\r\n    <div class="modal-header">\r\n        <button icon="remove" class="btn pull-right" type="button" ng-click="vm.close()"></button>\r\n        <h3 class="modal-title" translate="ImportExport.ExportContent.Title"></h3>\r\n    </div>\r\n    <div class="modal-body">\r\n         \r\n        <span class="btn-group" ng-if="vm.debug.on">\r\n            <button icon="record" type="button" class="btn btn-square" ng-click="vm.changeExportScope()"></button>\r\n        </span>\r\n\r\n        <div translate="ImportExport.ExportContent.Intro"></div>\r\n        <div translate="ImportExport.ExportContent.FurtherHelp"></div>\r\n\r\n        <h5 translate="ImportExport.ExportContent.ContentTypes.Title"></h5>\r\n        <ul class="sc-export-content-list">\r\n            <li ng-repeat="contentType in vm.ContentInfo.ContentTypes">\r\n                <label ng-class="{ \'active\': contentType._export }"><input type="checkbox" ng-model="contentType._export" /> {{contentType.Name}} ({{contentType.Id}})</label>\r\n                <div ng-if="contentType.Templates.length" class="sc-export-content-list-inner">\r\n                    <h6 translate="ImportExport.ExportContent.ContentTypes.Templates"></h6>\r\n                    <ul>\r\n                        <li ng-repeat="template in contentType.Templates">\r\n                            <label ng-class="{ \'active\': template._export }"><input type="checkbox" ng-model="template._export" /> {{template.Name}} ({{template.Id}})</label>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div ng-if="contentType.Entities.length" class="sc-export-content-list-inner">\r\n                    <h6 translate="ImportExport.ExportContent.ContentTypes.Entities"></h6>\r\n                    <ul>\r\n                        <li ng-repeat="entity in contentType.Entities">\r\n                            <label ng-class="{ \'active\': entity._export }"><input type="checkbox" ng-model="entity._export" /> {{entity.Title}} ({{entity.Id}})</label>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n            </li>\r\n        </ul>\r\n\r\n        <h5 translate="ImportExport.ExportContent.TemplatesWithoutContentTypes.Title"></h5>\r\n        <ul class="sc-export-content-list">\r\n            <li ng-repeat="template in vm.ContentInfo.TemplatesWithoutContentTypes">\r\n                <label ng-class="{ \'active\': template._export }"><input type="checkbox" ng-model="template._export" /> {{template.Name}} ({{template.Id}})</label>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary pull-left" ng-click="vm.exportContent()" translate="ImportExport.ExportContent.Commands.Export" ng-disabled="vm.IsExporting"></button>\r\n    </div>    \r\n\r\n    <show-debug-availability class="pull-right"></show-debug-availability>\r\n</div>\r\n\r\n\r\n\r\n<style>\r\n    .sc-export-content-list { list-style-type: none; margin: 0; padding: 0; border-top: 1px solid #DDD; }\r\n\r\n    .sc-export-content-list-inner { padding: 0 0 0 40px; }\r\n\r\n    .sc-export-content-list > li { margin: 0; padding: 0; border-bottom: 1px solid #DDD; font-weight: bold; }\r\n\r\n    .sc-export-content-list h6 { font-size: inherit; font-weight: bold; margin: 0; padding: 5px; }\r\n\r\n    .sc-export-content-list label { display: block; padding: 10px; margin: 0; font-size: inherit; font-weight: normal; }\r\n\r\n    .sc-export-content-list label:hover { background: #EEE; }\r\n    .sc-export-content-list label.active { background: #E6F7E7; }\r\n\r\n    .sc-export-content-list > li ul { list-style-type: none; margin: 0; padding: 0; }\r\n\r\n    .sc-export-content-list > li li { font-weight: normal; padding: 0; margin: 0; }\r\n</style>'),t.put("importexport/import-app.html",'<div>\r\n    <div class="modal-header">\r\n        <button icon="remove" class="btn pull-right" type="button" ng-click="vm.close()"></button>\r\n        <h3 class="modal-title" translate="ImportExport.ImportApp.Title"></h3>\r\n    </div>\r\n\r\n    <div class="sxc-spinner" ng-show="vm.IsImporting" class="sxc-import-spinner"><i class="eav-icon-spinner animate-spin"></i></div>\r\n\r\n    <!-- IMPORT -->\r\n    <div ng-if="!vm.ImportResult.Messages">\r\n\r\n        <div class="modal-body">\r\n\r\n            <div translate="ImportExport.ImportApp.Intro"></div>\r\n            <div translate="ImportExport.ImportApp.FurtherHelp"></div>\r\n            <br />\r\n\r\n            <span class="btn btn-default btn-file">\r\n                <span ng-hide="vm.ImportFile.name">{{"ImportExport.ImportApp.Commands.SelectFile" | translate}}</span>\r\n                <span ng-show="vm.ImportFile.name">{{vm.ImportFile.name}}</span>\r\n                <input type="file" sxc-file-input="vm.ImportFile" />\r\n            </span>\r\n            <br />\r\n        </div>\r\n\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-primary pull-left" ng-click="vm.importApp()" ng-disabled="!vm.ImportFile.name || vm.IsImporting" translate="ImportExport.ImportApp.Commands.Import"></button>\r\n        </div>\r\n    </div>\r\n    <!-- END IMPORT -->\r\n\r\n\r\n    <!-- RESULT -->\r\n    <div ng-if="vm.ImportResult.Messages">\r\n        <div class="modal-body">\r\n            <div ng-if="vm.ImportResult.Succeeded" class="sxc-message sxc-message-info">\r\n                {{"ImportExport.ImportContent.Messages.ImportSucceeded" | translate}} <!-- (<a ng-click="vm.ImportResult._hideSuccessMessages = !vm.ImportResult._hideSuccessMessages">{{"ImportExport.ImportContent.Commands.ToggleSuccessMessages" | translate}}</a>) -->\r\n            </div>\r\n            <div ng-if="!vm.ImportResult.Succeeded" class="sxc-message sxc-message-error">\r\n                {{"ImportExport.ImportContent.Messages.ImportFailed" | translate}}\r\n            </div>\r\n            <div ng-repeat="message in vm.ImportResult.Messages" class="sxc-message" ng-class="{ \'sxc-message-warning\': message.MessageType == 0, \'sxc-message-success\': message.MessageType == 1, \'sxc-message-error\': message.MessageType == 2, \'sxc-message-success-hidden\': vm.ImportResult._hideSuccessMessages }">\r\n                {{message.Text}}\r\n            </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n        </div>\r\n    </div>\r\n    <!-- END RESULT -->\r\n\r\n\r\n</div>\r\n\r\n<style>\r\n    .sxc-message { display: block; padding: 18px 18px; margin-bottom: 18px; border: 1px solid rgba(2, 139, 255, 0.2); border-radius: 3px; background: rgba(2,139,255,0.15); max-width: 980px; }\r\n\r\n    .sxc-message-success.sxc-message { background-color: rgba(0,255,0,0.15); border-color: rgba(0, 255, 0, 0.5); }\r\n    \r\n    .sxc-message-success.sxc-message-success-hidden { display: none; }\r\n    \r\n    .sxc-message-warning.sxc-message { background-color: rgba(255,255,0,0.15); border-color: #CDB21F; }\r\n\r\n    .sxc-message-error.sxc-message { background-color: rgba(255,0,0,0.15); border-color: rgba(255, 0, 0, 0.2); }\r\n</style>'),t.put("importexport/import-content.html",'<div>\r\n    <div class="modal-header">\r\n        <button icon="remove" class="btn pull-right" type="button" ng-click="vm.close()"></button>\r\n        <h3 class="modal-title" translate="ImportExport.ImportContent.Title"></h3>\r\n    </div>\r\n\r\n    <div ng-show="true || vm.IsImporting" class="sxc-import-spinner"><i class="eav-icon-spinner animate-spin"></i></div>\r\n\r\n    <!-- IMPORT -->\r\n    <div ng-if="!vm.ImportResult.Messages">\r\n\r\n        <div class="modal-body">\r\n            <div translate="ImportExport.ImportContent.Intro"></div>\r\n            <div translate="ImportExport.ImportContent.FurtherHelp"></div>\r\n            <br />\r\n            <span class="btn btn-default btn-file">\r\n                <span ng-hide="vm.ImportFile.name">{{"ImportExport.ImportContent.Commands.SelectFile" | translate}}</span>\r\n                <span ng-show="vm.ImportFile.name">{{vm.ImportFile.name}}</span>\r\n                <input type="file" sxc-file-input="vm.ImportFile" />\r\n            </span>\r\n            <br />\r\n        </div>\r\n\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-primary pull-left" ng-click="vm.importContent()" ng-disabled="!vm.ImportFile.name || vm.IsImporting" translate="ImportExport.ImportContent.Commands.Import"></button>\r\n        </div>\r\n    </div>\r\n    <!-- END IMPORT -->\r\n\r\n    <!-- RESULT -->\r\n    <div ng-if="vm.ImportResult.Messages">\r\n        <div class="modal-body">\r\n            <div ng-if="vm.ImportResult.Succeeded" class="sxc-message sxc-message-info">\r\n                {{"ImportExport.ImportContent.Messages.ImportSucceeded" | translate}} (<a ng-click="vm.ImportResult._hideSuccessMessages = !vm.ImportResult._hideSuccessMessages">{{"ImportExport.ImportContent.Commands.ToggleSuccessMessages" | translate}}</a>)\r\n            </div>\r\n            <div ng-if="!vm.ImportResult.Succeeded" class="sxc-message sxc-message-error">\r\n                {{"ImportExport.ImportContent.Messages.ImportFailed" | translate}}\r\n            </div>\r\n            <div ng-repeat="message in vm.ImportResult.Messages" class="sxc-message" ng-class="{ \'sxc-message-warning\': message.MessageType == 0, \'sxc-message-success\': message.MessageType == 1, \'sxc-message-error\': message.MessageType == 2, \'sxc-message-success-hidden\': vm.ImportResult._hideSuccessMessages }">\r\n                {{message.Message}}\r\n            </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n        </div>\r\n    </div>\r\n    <!-- END RESULT -->\r\n</div>'),t.put("importexport/intro.html",'<div class="modal-body">\r\n    <div>\r\n        <div class="pull-left btn-group-vertical">\r\n            <button uib-tooltip="{{\'AppConfig.Export.Button\' | translate}}" ng-click="vm.exportAll()" class="btn btn-square btn-primary" type="button">\r\n                <i icon="export"></i>\r\n            </button>\r\n        </div>\r\n        <div style="margin-left: 50px">\r\n            <h4 class="modal-title" translate="AppConfig.Export.Title"></h4>\r\n            <div translate="AppConfig.Export.Intro"></div>\r\n        </div>\r\n    </div>\r\n\r\n    <br />\r\n\r\n    <div>\r\n        <div class="pull-left btn-group-vertical">\r\n            <button uib-tooltip="{{\'ImportExport.Buttons.Export\' | translate}}" ng-click="vm.export()" class="btn btn-square btn-primary" type="button">\r\n                <i icon="export"></i>\r\n            </button>\r\n\r\n            <button uib-tooltip="{{\'ImportExport.Buttons.Import\' | translate}}" ng-click="vm.import()" class="btn btn-square btn-primary" type="button">\r\n                <i icon="import"></i>\r\n            </button>\r\n        </div>\r\n        <div style="margin-left: 50px">\r\n            <h4 class="modal-title" translate="ImportExport.Title"></h4>\r\n            <div translate="ImportExport.Intro"></div>\r\n        </div>\r\n    </div>\r\n\r\n    <br />\r\n\r\n</div>'),t.put("language-settings/languages.html",'<div>\r\n    <div class="modal-header">\r\n        <h4 translate="Language.Title"></h4>        \r\n    </div>\r\n    <div class="modal-body">\r\n        <div translate="Language.Intro"></div>\r\n\r\n        <table class="table table-hover">\r\n            <thead>\r\n                <tr>\r\n                    <th translate="Language.Table.Code"></th>\r\n                    <th translate="Language.Table.Culture"></th>\r\n                    <th translate="Language.Table.Status"></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr ng-repeat="item in vm.items | orderBy:[\'ContentType.Name\',\'Name\']" class="clickable-row" ng-click="vm.toggle(item)">\r\n                    <td class="clickable">{{item.Code}}</td>\r\n                    <td class="clickable">{{item.Culture}}</span></td>\r\n                    <td class="clickable text-nowrap">\r\n                        <span ng-click="vm.save(item)" stop-event="click">\r\n                            <switch ng-model="item.IsEnabled"></switch>\r\n                        </span>\r\n                    </td>\r\n                </tr>\r\n                <tr ng-if="!vm.items.length">\r\n                    <td colspan="100" translate="General.Messages.NothingFound"></td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n        &nbsp;\r\n    </div>\r\n</div>'),t.put("manage-content-list/manage-content-list.html",'<div class="modal-header">\r\n    <button class="btn btn-default btn-square btn-subtle pull-right" type="button" ng-click="vm.close()"><i icon="remove"></i></button>\r\n    <h3 class="modal-title" translate="ManageContentList.Title"></h3>\r\n</div>\r\n<div>\r\n    <div class="modal-body">\r\n        <div>\r\n            <p translate="ManageContentList.HeaderIntro"></p>\r\n            <div>\r\n                <a ng-if="vm.header.Type" ng-click="vm.editHeader()"> {{ vm.header.Title }} <i icon="pencil" class="pull-right"></i></a>\r\n                <span ng-if="!vm.header.Type" translate="ManageContentList.NoHeaderInThisList"></span>\r\n            </div>\r\n            <br/>\r\n        </div>\r\n        <div>\r\n            <p translate="ManageContentList.Intro"></p>\r\n            <div ui-tree="options" data-empty-placeholder-enabled="false">\r\n                <ol ui-tree-nodes ng-model="vm.items">\r\n                    <li ng-repeat="item in vm.items" ui-tree-node class="eav-entityselect-item" style="width: 100%">\r\n                        <div ui-tree-handle>\r\n                            <i icon="move" title="{{ \'FieldType.Entity.DragMove\' | translate }}" class="pull-left eav-entityselect-sort"></i>\r\n                            <span>&nbsp;{{item.Title}} ({{item.Id}})</span>\r\n                            <span class="eav-entityselect-item-actions">\r\n                                <span ng-if="item.Id !== 0" data-nodrag title="{{ \'FieldType.Entity.Edit\' | translate }}" ng-click="vm.edit(item.Id)">\r\n                                    <i icon="pencil"></i>\r\n                                </span>\r\n                            </span>\r\n                        </div>\r\n                    </li>\r\n                </ol>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-square btn-lg pull-left" type="button" ng-click="vm.ok()"><i icon="ok"></i></button>\r\n</div>'),t.put("replace-content/replace-content.html",'<div class="modal-header">\r\n    <button class="btn btn-default btn-square btn-subtle pull-right" type="button" ng-click="vm.close()"><i icon="remove"></i></button>\r\n    <h3 class="modal-title" translate="ReplaceContent.Title"></h3>\r\n</div>\r\n<div>\r\n    <div class="modal-body">\r\n        <p translate="ReplaceContent.Intro"></p>\r\n        <div translate="ReplaceContent.ChooseItem"></div>\r\n        <div>\r\n            <select class="input-lg"\r\n                    ng-model="vm.item.id"\r\n                    ng-options="vm.convertToInt(key) as ((value || \'[?]\') + \' (\' + key + \')\') for (key,value) in vm.options"\r\n                    style="max-width: 100%"></select>\r\n            &nbsp;<button type="button" class="btn btn-lg" ng-click="vm.copySelected()">\r\n                <i icon="duplicate"></i>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-square btn-lg pull-left" type="button" ng-click="vm.ok()"><i icon="ok"></i></button>\r\n</div>'),t.put("templates/templates.html",'\r\n\r\n<div class="modal-body">\r\n    <button icon="plus" type="button" class="btn btn-primary btn-square" ng-click="vm.add()"> </button>\r\n    <span class="btn-group" ng-if="vm.debug.on">\r\n        <button icon="repeat" type="button" class="btn btn-square" ng-click="vm.refresh()"></button>\r\n    </span>\r\n    <table class="table table-hover">\r\n        <thead>\r\n        <tr>\r\n            <th translate="Templates.Table.TName"></th>\r\n            <th translate="Templates.Table.TPath"></th>\r\n            <th translate="Templates.Table.CType"></th>\r\n            <th translate="Templates.Table.DemoC"></th>\r\n            <th>\r\n                <span uib-tooltip="{{\'Templates.Table.Show\' | translate}}"><i icon="eye-open"></i></span>\r\n            </th>\r\n            <th translate="Templates.Table.UrlKey"></th>\r\n            <th translate="Templates.Table.Actions"></th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr ng-repeat="item in vm.items | orderBy:[\'ContentType.Name\',\'Name\']" class="clickable-row" ng-click="vm.edit(item)">\r\n            <td class="clickable">{{item.Name}}</td>\r\n            <td class="clickable"><span uib-tooltip="{{item.TemplatePath}}">...{{item.TemplatePath.split("/").pop()}}</span></td>\r\n            <td class="clickable">\r\n                <span uib-tooltip="\r\nCont: {{item.ContentType.Name}} ({{item.ContentType.Id}})\r\nPres: {{item.PresentationType.Name}} ({{item.PresentationType.Id}})\r\nListC: {{item.ListContentType.Name}} ({{item.ListContentType.Id}})\r\nListP: {{item.ListPresentationType.Name}} ({{item.ListPresentationType.Id}})\r\n">{{item.ContentType.Name}}</span>\r\n            </td>\r\n            <td class="clickable">\r\n                <span uib-tooltip="\r\nDemo: {{item.ContentType.DemoTitle}} ({{item.ContentType.DemoId}})\r\nPres: {{item.PresentationType.DemoTitle}} ({{item.PresentationType.DemoId}})\r\nListC: {{item.ListContentType.DemoTitle}} ({{item.ListContentType.DemoId}})\r\nListP: {{item.ListPresentationType.DemoTitle}} ({{item.ListPresentationType.DemoId}})\r\n">{{item.ContentType.DemoId}}</span>\r\n            </td>\r\n            <td>\r\n                <span icon="{{ item.IsHidden ? \'close\' : \'eye-open\'}}"></span>\r\n            </td>\r\n            <td class="clickable"><span uib-tooltip="{{item.ViewNameInUrl}}">{{item.ViewNameInUrl}}</span></td>\r\n            <td class="text-nowrap" stop-event="click">\r\n                <button type="button" class="btn btn-xs btn-square" ng-click="vm.permissions(item)">\r\n                    <i icon="user"></i>\r\n                </button>\r\n\r\n                <button type="button" class="btn btn-xs btn-square" ng-click="vm.tryToDelete(item)">\r\n                    <span icon="remove"></span>\r\n                </button>\r\n            </td>\r\n        </tr>\r\n        <tr ng-if="!vm.items.length">\r\n            <td colspan="100" translate="General.Messages.NothingFound"></td>\r\n        </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <div class="" translate="Templates.InfoHideAdvanced"></div>\r\n</div>'),t.put("web-api/web-api.html",'<div class="modal-header">\r\n    <h3 class="modal-title" translate="WebApi.Title"></h3>\r\n</div>\r\n\r\n<div class="modal-body">\r\n    <p translate="WebApi.Intro"></p>\r\n    <button icon="plus" type="button" class="btn btn-square" ng-click="vm.add()"> </button>\r\n    <button icon="repeat" type="button" class="btn btn-square" ng-click="vm.refresh()"></button>\r\n\r\n    <table class="table table-hover">\r\n        <thead>\r\n            <tr>\r\n                <th translate="WebApi.ListTitle"></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr ng-repeat="item in vm.items | orderBy:[\'ContentType.Name\',\'Name\']">\r\n                <td><span uib-tooltip="{{item.TemplatePath}}">{{item}}</span></td>\r\n            </tr>\r\n            <tr ng-if="!vm.items.length">\r\n                <td colspan="100" translate="General.Messages.NothingFound"></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    <p translate="WebApi.QuickStart"></p>\r\n\r\n</div>\r\n\r\n')}]),function(){function t(t,n,e,r,a,i,o){var s=this;s.debug=a;var p=t(r);s.edit=function(t){n.openItemEditWithEntityId(t.Id,p.liveListReload)},s.add=function(){n.openItemNew("2SexyContent-Template",p.liveListReload)},s.items=p.liveList(),s.refresh=p.liveListReload,s.permissions=function(t){return n.openPermissionsForGuid(r,t.Guid,p.liveListReload)},s.tryToDelete=function(t){confirm(i.instant("General.Questions.DeleteEntity",{title:t.Name,id:t.Id}))&&p["delete"](t.Id)},s.close=function(){o.dismiss("cancel")}}t.$inject=["templatesSvc","eavAdminDialogs","eavConfig","appId","debugState","$translate","$uibModalInstance"],angular.module("TemplatesApp",["SxcServices","EavConfiguration","EavAdminUi","EavServices","EavDirectives"]).controller("TemplateList",t)}(),function(){function t(t,n,e,r,a){var i=this,o=n(t);i.items=o.liveList(),i.refresh=o.liveListReload,i.add=function(){alert(a.instant("WebApi.AddDoesntExist"))},i.tryToDelete=function(t){confirm(a.instant("General.Messages.DeleteEntity",{title:t.Title,id:t.Id}))&&o["delete"](t.Id)},i.close=function(){r.dismiss("cancel")}}t.$inject=["appId","webApiSvc","eavAdminDialogs","$uibModalInstance","$translate"],angular.module("WebApiApp",["SxcServices","EavAdminUi","EavServices","EavDirectives"]).controller("WebApiMain",t)}();
//# sourceMappingURL=sxc-admin.min.js.map
