(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"7lgs":function(e,t,o){"use strict";o.r(t),o.d(t,"ContentExportComponent",(function(){return h}));var n=o("0ELX"),a=o("1C3z"),r=o("BLjT"),i=o("5/c3"),c=o("Xi8o"),s=o("ZSGP"),l=o("hOvr"),u=o("LuBX"),b=o("OeRG"),d=o("8AiQ"),p=o("+raR"),g=o("9HSk");function f(e,t){if(1&e&&(a.Wb(0,"mat-option",22),a.Pc(1),a.Vb()),2&e){var o=t.$implicit;a.oc("value",o.key),a.Bb(1),a.Qc(o.key)}}function m(e,t){if(1&e&&(a.Wb(0,"mat-radio-button",23),a.Pc(1),a.Vb()),2&e){var o=a.ic();a.Bb(1),a.Rc("Export selected ",o.itemIds.length," items")}}var h=function(){function e(e,t,o){this.dialogRef=e,this.route=t,this.contentExportService=o,this.languages=JSON.parse(sessionStorage.getItem(n.l)),this.hasIdList=!1;var a=this.route.snapshot.paramMap.get("selectedIds");this.hasIdList=!!a,this.hasIdList&&(this.itemIds=a.split(",").map((function(e){return parseInt(e,10)}))),this.formValues={defaultLanguage:sessionStorage.getItem(n.k),contentTypeStaticName:this.route.snapshot.paramMap.get("contentTypeStaticName"),language:"",recordExport:this.hasIdList?"Selection":"All",languageReferences:"Link",resourcesReferences:"Link"}}return e.prototype.ngOnInit=function(){},e.prototype.exportContent=function(){this.contentExportService.exportContent(this.formValues,this.hasIdList&&"Selection"===this.formValues.recordExport?this.itemIds:null)},e.prototype.exportJson=function(){this.contentExportService.exportJson(this.formValues.contentTypeStaticName)},e.prototype.closeDialog=function(){this.dialogRef.close()},e.\u0275fac=function(t){return new(t||e)(a.Qb(r.h),a.Qb(i.a),a.Qb(c.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-content-export"]],decls:50,vars:10,consts:[["mat-dialog-title",""],[1,"dialog-title-box"],[1,"dialog-description"],["href","http://2sxc.org/help","target","_blank"],["ngForm","ngForm"],["appearance","standard","color","accent"],["name","Language",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"field-label"],["name","RecordExport",3,"ngModel","ngModelChange"],["value","Blank"],["value","All"],["value","Selection",4,"ngIf"],["name","LanguageReferences",3,"ngModel","disabled","ngModelChange"],["value","Link"],["value","Resolve"],["name","ResourcesReferences",3,"ngModel","disabled","ngModelChange"],[1,"dialog-actions-box"],["mat-raised-button","","type","button",3,"click"],["mat-raised-button","","type","button",3,"disabled","click"],["mat-raised-button","","type","button","color","accent",3,"disabled","click"],[3,"value"],["value","Selection"]],template:function(e,t){if(1&e&&(a.Wb(0,"div",0),a.Wb(1,"div",1),a.Pc(2,"Export Content / Data"),a.Vb(),a.Vb(),a.Wb(3,"p",2),a.Pc(4," This will generate an XML file which you can edit in Excel. If you just want to import new data, use this to export the schema that you can then fill in using Excel. Please visit "),a.Wb(5,"a",3),a.Pc(6,"http://2sxc.org/help"),a.Vb(),a.Pc(7," for more instructions.\n"),a.Vb(),a.Wb(8,"form",null,4),a.Wb(10,"div"),a.Wb(11,"mat-form-field",5),a.Wb(12,"mat-label"),a.Pc(13,"Languages"),a.Vb(),a.Wb(14,"mat-select",6),a.ec("ngModelChange",(function(e){return t.formValues.language=e})),a.Wb(15,"mat-option",7),a.Pc(16,"All"),a.Vb(),a.Nc(17,f,2,2,"mat-option",8),a.Vb(),a.Vb(),a.Vb(),a.Wb(18,"div"),a.Wb(19,"p",9),a.Pc(20,"Export data"),a.Vb(),a.Wb(21,"mat-radio-group",10),a.ec("ngModelChange",(function(e){return t.formValues.recordExport=e})),a.Wb(22,"mat-radio-button",11),a.Pc(23,"No, just export blank data schema (for new data import) "),a.Vb(),a.Wb(24,"mat-radio-button",12),a.Pc(25,"Yes, export all content-items"),a.Vb(),a.Nc(26,m,2,1,"mat-radio-button",13),a.Vb(),a.Vb(),a.Wb(27,"div"),a.Wb(28,"p",9),a.Pc(29,"Value references to other languages"),a.Vb(),a.Wb(30,"mat-radio-group",14),a.ec("ngModelChange",(function(e){return t.formValues.languageReferences=e})),a.Wb(31,"mat-radio-button",15),a.Pc(32,"Keep references to other languages (for re-import) "),a.Vb(),a.Wb(33,"mat-radio-button",16),a.Pc(34,"Replace references with values"),a.Vb(),a.Vb(),a.Vb(),a.Wb(35,"div"),a.Wb(36,"p",9),a.Pc(37,"File / page references"),a.Vb(),a.Wb(38,"mat-radio-group",17),a.ec("ngModelChange",(function(e){return t.formValues.resourcesReferences=e})),a.Wb(39,"mat-radio-button",15),a.Pc(40,"Keep references (for re-import, for example Page:4711) "),a.Vb(),a.Wb(41,"mat-radio-button",16),a.Pc(42,"Replace references with real URLs (for example /Portals/0...) "),a.Vb(),a.Vb(),a.Vb(),a.Wb(43,"div",18),a.Wb(44,"button",19),a.ec("click",(function(){return t.closeDialog()})),a.Pc(45,"Cancel"),a.Vb(),a.Wb(46,"button",20),a.ec("click",(function(){return t.exportJson()})),a.Pc(47," Export Type Definition as Json (for developers) "),a.Vb(),a.Wb(48,"button",21),a.ec("click",(function(){return t.exportContent()})),a.Pc(49," Export "),a.Vb(),a.Vb(),a.Vb()),2&e){var o=a.Bc(9);a.Bb(14),a.oc("ngModel",t.formValues.language),a.Bb(3),a.oc("ngForOf",t.languages),a.Bb(4),a.oc("ngModel",t.formValues.recordExport),a.Bb(5),a.oc("ngIf",t.hasIdList),a.Bb(4),a.oc("ngModel",t.formValues.languageReferences)("disabled","Blank"===t.formValues.recordExport),a.Bb(8),a.oc("ngModel",t.formValues.resourcesReferences)("disabled","Blank"===t.formValues.recordExport),a.Bb(8),a.oc("disabled",!o.form.valid),a.Bb(2),a.oc("disabled",!o.form.valid)}},directives:[r.i,s.G,s.s,s.t,l.c,l.g,u.a,s.r,s.u,b.l,d.s,p.b,p.a,d.t,g.b],styles:[".field-label[_ngcontent-%COMP%]{font-size:18px;margin:24px 0 0}.mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:8px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px;font-size:14px}"]}),e}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/11.03.00/ng-edit/content-export-component.d62ed08115e133a75c5e.js.map