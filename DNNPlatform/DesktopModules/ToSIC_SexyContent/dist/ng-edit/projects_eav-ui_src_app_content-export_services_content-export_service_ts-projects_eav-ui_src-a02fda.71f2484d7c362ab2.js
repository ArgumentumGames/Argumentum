"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-export_services_content-export_service_ts-projects_eav-ui_src-a02fda"],{2188:(g,I,t)=>{t.d(I,{i:()=>o});var _=t(7066),u=t(2847),c=t(5368),n=t(3184),i=t(2425);let o=(()=>{class a{constructor(s,p){this.context=s,this.dnnContext=p}exportContent(s,p){const h=p?"&selectedids="+p.join():"",e=this.dnnContext.$2sxc.http.apiUrl(u.Uo+"Download")+"?appId="+this.context.appId+"&language="+s.language+"&defaultLanguage="+s.defaultLanguage+"&contentType="+s.contentTypeStaticName+"&recordExport="+s.recordExport+"&resourcesReferences="+s.resourcesReferences+"&languageReferences="+s.languageReferences+h;window.open(e,"_blank","")}exportJson(s){const p=this.dnnContext.$2sxc.http.apiUrl(_._+"Json")+"?appId="+this.context.appId+"&name="+s;window.open(p,"_blank","")}exportEntity(s,p,h){const e=this.dnnContext.$2sxc.http.apiUrl(u.Uo+"Json")+"?appId="+this.context.appId+"&id="+s+"&prefix="+p+"&withMetadata="+h;window.open(e,"_blank","")}}return a.\u0275fac=function(s){return new(s||a)(n.LFG(c._),n.LFG(i._y))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})()},8812:(g,I,t)=>{t.d(I,{l:()=>h});var _=t(7400),u=t(2673),c=t(635),n=t(898),i=t(2847),o=t(9934),a=t(5368),l=t(3184),s=t(8784),p=t(2425);let h=(()=>{class e{constructor(r,E,y){this.http=r,this.context=E,this.dnnContext=y}getAll(r){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(i.PS),{params:{appId:this.context.appId.toString(),contentType:r}})}getColumns(r){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(n.jt),{params:{appId:this.context.appId.toString(),staticName:r}})}importItem(r){return(0,_.D)((0,o.s)(r)).pipe((0,u.w)(E=>this.http.post(this.dnnContext.$2sxc.http.apiUrl(i.Uo+"upload"),{AppId:this.context.appId.toString(),ContentBase64:E})),(0,c.U)(E=>({Success:E,Messages:[]})))}}return e.\u0275fac=function(r){return new(r||e)(l.LFG(s.eN),l.LFG(a._),l.LFG(p._y))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e})()},4272:(g,I,t)=>{t.d(I,{g:()=>o});var _=t(2847),u=t(5368),c=t(3184),n=t(8784),i=t(2425);let o=(()=>{class a{constructor(s,p,h){this.http=s,this.context=p,this.dnnContext=h}create(s,p){return this.http.post(`app/auto/data/${s}`,p,{params:{appId:this.context.appId,zoneId:this.context.zoneId}})}update(s,p,h){return this.http.post(`app/auto/data/${s}/${p}`,h,{params:{appId:this.context.appId,zoneId:this.context.zoneId}})}delete(s,p,h){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl(_.Uo+"delete"),{params:{contentType:s,id:p.toString(),appId:this.context.appId.toString(),force:h.toString()}})}}return a.\u0275fac=function(s){return new(s||a)(c.LFG(n.eN),c.LFG(u._),c.LFG(i._y))},a.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac}),a})()},898:(g,I,t)=>{t.d(I,{Mr:()=>s,jt:()=>l});var _=t(635),u=t(7066),c=t(5368),n=t(3184),i=t(8784),o=t(2425);const a="admin/field/",l=a+"all";let s=(()=>{class p{constructor(e,d,r){this.http=e,this.context=d,this.dnnContext=r}apiUrl(e){return this.dnnContext.$2sxc.http.apiUrl(e)}typeListRetrieve(){return this.http.get(this.apiUrl(a+"DataTypes"),{params:{appid:this.context.appId.toString()}})}getInputTypesList(){return this.http.get(this.apiUrl(a+"InputTypes"),{params:{appid:this.context.appId.toString()}}).pipe((0,_.U)(e=>e.map(r=>({dataType:r.Type.substring(0,r.Type.indexOf("-")),inputType:r.Type,label:r.Label,description:r.Description,isDefault:r.IsDefault,isObsolete:r.IsObsolete,isRecommended:r.IsRecommended,obsoleteMessage:r.ObsoleteMessage,icon:r.IsDefault?"star":r.IsRecommended?"star_outline":null}))))}getReservedNames(){return this.http.get(this.apiUrl(a+"ReservedNames"))}getFields(e){return this.http.get(this.apiUrl(l),{params:{appid:this.context.appId.toString(),staticName:e}}).pipe((0,_.U)(d=>{if(d)for(const r of d){if(!r.Metadata)continue;const E=r.Metadata,m=E[r.Type],T=E[r.InputType];E.merged=Object.assign(Object.assign(Object.assign({},E.All),m),T)}return d}))}reOrder(e,d){return this.http.post(this.apiUrl(a+"Sort"),null,{params:{appid:this.context.appId.toString(),contentTypeId:d.Id.toString(),order:JSON.stringify(e)}})}setTitle(e,d){return this.http.post(this.apiUrl(u._+"SetTitle"),null,{params:{appid:this.context.appId.toString(),contentTypeId:d.Id.toString(),attributeId:e.Id.toString()}})}rename(e,d,r){return this.http.post(this.apiUrl(a+"Rename"),null,{params:{appid:this.context.appId.toString(),contentTypeId:d.toString(),attributeId:e.toString(),newName:r}})}delete(e,d){if(e.IsTitle)throw new Error("Can't delete Title");return this.http.delete(this.apiUrl(a+"Delete"),{params:{appid:this.context.appId.toString(),contentTypeId:d.Id.toString(),attributeId:e.Id.toString()}})}add(e,d){return this.http.post(this.apiUrl(a+"Add"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:d.toString(),Id:e.Id.toString(),Type:e.Type,InputType:e.InputType,StaticName:e.StaticName,IsTitle:e.IsTitle.toString(),Index:e.SortOrder.toString()}})}updateInputType(e,d,r){return this.http.post(this.apiUrl(a+"InputType"),null,{params:{appId:this.context.appId.toString(),attributeId:e.toString(),field:d,inputType:r}})}}return p.\u0275fac=function(e){return new(e||p)(n.LFG(i.eN),n.LFG(c._),n.LFG(o._y))},p.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac}),p})()},2409:(g,I,t)=>{t.d(I,{U:()=>u});var _=t(941);class u{static getRoutes(){const n={path:"metadata/:targetType/:keyType/:key",loadChildren:()=>Promise.all([t.e("default-projects_eav-ui_src_app_shared_directives_tippy_directive_ts"),t.e("default-node_modules_angular_material_fesm2015_slide-toggle_mjs"),t.e("default-projects_eav-ui_src_app_permissions_index_ts"),t.e("common"),t.e("projects_eav-ui_src_app_metadata_metadata_module_ts")]).then(t.bind(t,1901)).then(o=>o.MetadataModule),data:{title:"Metadata"}};return[n,Object.assign(Object.assign({},n),{path:`${n.path}/title/:title`}),Object.assign(Object.assign({},n),{path:`${n.path}/contentType/:contentTypeStaticName`}),Object.assign(Object.assign({},n),{path:`${n.path}/title/:title/contentType/:contentTypeStaticName`})]}static getUrl(n,i,o,a,l){let s=`metadata/${n}/${i}/${o}`;return a&&(s+=`/title/${encodeURIComponent(a)}`),l&&(s+=`/contentType/${l}`),s}static getUrlApp(n,i){return this.getUrl(_.Zy.metadata.app.targetType,_.Zy.metadata.app.keyType,n.toString(),i)}static getUrlAttribute(n,i,o){return this.getUrl(_.Zy.metadata.attribute.targetType,_.Zy.metadata.attribute.keyType,n.toString(),i,o)}static getUrlContentType(n,i){return this.getUrl(_.Zy.metadata.contentType.targetType,_.Zy.metadata.contentType.keyType,n,i)}static getUrlEntity(n,i,o){return this.getUrl(_.Zy.metadata.entity.targetType,_.Zy.metadata.entity.keyType,n,i,o)}}},9934:(g,I,t)=>{function _(c){return new Promise((n,i)=>{const o=new FileReader;o.readAsDataURL(c),o.onload=()=>{n(o.result.split(",")[1])},o.onerror=a=>{i(a)}})}function u(c){return new Promise((n,i)=>{const o=new FileReader;o.readAsText(c),o.onload=()=>{n(o.result)},o.onerror=a=>{i(a)}})}t.d(I,{B:()=>u,s:()=>_})}}]);
//# sourceMappingURL=https://sources.2sxc.org/15.02.00/ng-edit/projects_eav-ui_src_app_content-export_services_content-export_service_ts-projects_eav-ui_src-a02fda.71f2484d7c362ab2.js.map